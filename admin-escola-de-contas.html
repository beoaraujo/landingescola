<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel Admin â€” Escola de Contas | TCM-PA</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--bg:#f0f2f5;--sf:#fff;--sf2:#f8f9fb;--bd:#e2e5ea;--tx:#1a1d23;--tx2:#5f6672;--tx3:#9ca3af;--pr:#3b82f6;--prh:#2563eb;--ok:#10b981;--wn:#f59e0b;--r:10px;--rl:14px;--sh:0 1px 3px rgba(0,0,0,.06),0 4px 12px rgba(0,0,0,.04);--ft:'DM Sans',system-ui,sans-serif}
body{font-family:var(--ft);background:var(--bg);color:var(--tx);min-height:100vh;font-size:14px;line-height:1.5}
.hdr{position:sticky;top:0;z-index:100;background:var(--tx);color:#fff;padding:0 16px;height:52px;display:flex;align-items:center;justify-content:space-between}
.hdr h1{font-size:14px;font-weight:700;display:flex;align-items:center;gap:8px}
.hdr h1 span{opacity:.5;font-weight:400}
.hdr-act{display:flex;gap:6px;flex-wrap:wrap}
.wrap{max-width:960px;margin:0 auto;padding:16px 12px 80px}
.tabs{display:flex;gap:4px;background:var(--sf);border-radius:var(--rl);padding:4px;border:1px solid var(--bd);margin-bottom:16px;overflow-x:auto}
.tab{padding:8px 14px;border-radius:var(--r);font-weight:600;font-size:13px;cursor:pointer;white-space:nowrap;border:none;background:none;color:var(--tx2);transition:.2s}
.tab:hover{background:var(--sf2)}
.tab.act{background:var(--pr);color:#fff}
.pan{display:none}.pan.act{display:block}
.sec{background:var(--sf);border:1px solid var(--bd);border-radius:var(--rl);margin-bottom:14px;overflow:hidden}
.sec-h{padding:12px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--bd);background:var(--sf2)}
.sec-h h3{font-size:13px;font-weight:700}
.sec-b{padding:16px}
.fd{margin-bottom:12px}.fd:last-child{margin-bottom:0}
.fl{display:block;font-size:11px;font-weight:600;color:var(--tx2);margin-bottom:3px;text-transform:uppercase;letter-spacing:.04em}
.fi{width:100%;padding:8px 10px;font-size:14px;font-family:var(--ft);border:1.5px solid var(--bd);border-radius:var(--r);background:var(--sf);color:var(--tx);outline:none;transition:.2s}
.fi:focus{border-color:var(--pr);box-shadow:0 0 0 3px rgba(59,130,246,.1)}
textarea.fi{resize:vertical;min-height:56px}
select.fi{appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%239ca3af' viewBox='0 0 16 16'%3E%3Cpath d='M4 6l4 4 4-4'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;padding-right:30px}
.fr{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.fr3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
.fh{font-size:10px;color:var(--tx3);margin-top:2px}
input[type="color"]{width:28px;height:28px;border:2px solid var(--bd);border-radius:6px;padding:0;cursor:pointer}
.bt{padding:7px 14px;border-radius:var(--r);font-weight:600;font-size:12px;cursor:pointer;border:none;font-family:var(--ft);display:inline-flex;align-items:center;gap:5px;transition:.2s;white-space:nowrap}
.bt-p{background:var(--pr);color:#fff}.bt-p:hover{background:var(--prh)}
.bt-ok{background:var(--ok);color:#fff}.bt-ok:hover{background:#059669}
.bt-dg{background:#ef4444;color:#fff}
.bt-g{background:var(--sf2);color:var(--tx2);border:1px solid var(--bd)}.bt-g:hover{background:var(--bd)}
.ti{border:1px solid var(--bd);border-radius:var(--rl);margin-bottom:10px;overflow:hidden}
.ti:hover{box-shadow:var(--sh)}
.ti-h{padding:10px 14px;display:flex;align-items:center;justify-content:space-between;cursor:pointer;background:var(--sf2);gap:10px;user-select:none}
.ti-h:hover{background:#f0f2f5}
.ti-info{display:flex;align-items:center;gap:8px;flex:1;min-width:0}
.ti-n{width:26px;height:26px;border-radius:50%;background:var(--pr);color:#fff;font-weight:700;font-size:11px;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.ti-txt{min-width:0}.ti-txt b{font-size:13px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.ti-txt small{font-size:10px;color:var(--tx3)}
.ti-acts{display:flex;gap:4px;flex-shrink:0}
.ti-arr{font-size:16px;color:var(--tx3);transition:transform .2s}
.ti.open .ti-arr{transform:rotate(180deg)}
.ti-body{display:none;padding:14px;border-top:1px solid var(--bd)}
.ti.open .ti-body{display:block}
.cm{border:1px solid var(--bd);border-radius:var(--r);padding:10px 12px;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between;background:var(--sf);gap:8px}
.cm-i{display:flex;align-items:center;gap:8px;flex:1;min-width:0}
.cm-c{width:6px;height:32px;border-radius:3px;flex-shrink:0}
.cm-t{min-width:0}.cm-t b{font-size:12px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.cm-t small{font-size:10px;color:var(--tx3)}
.ffi{border:1px solid var(--bd);border-radius:var(--r);padding:8px 12px;margin-bottom:6px;display:flex;align-items:center;justify-content:space-between;gap:8px;background:var(--sf)}
.ffi-i{flex:1;min-width:0}.ffi-i b{font-size:12px}.ffi-i small{font-size:10px;color:var(--tx3);display:block}
.tg{position:relative;width:34px;height:18px;cursor:pointer;display:inline-block}
.tg input{opacity:0;width:0;height:0;position:absolute}
.tg-t{position:absolute;inset:0;background:var(--bd);border-radius:9px;transition:.2s}
.tg-t::after{content:'';position:absolute;top:2px;left:2px;width:14px;height:14px;background:#fff;border-radius:50%;transition:.2s;box-shadow:0 1px 2px rgba(0,0,0,.15)}
.tg input:checked+.tg-t{background:var(--pr)}
.tg input:checked+.tg-t::after{transform:translateX(16px)}
.mo{position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:200;display:none;align-items:center;justify-content:center;padding:12px;backdrop-filter:blur(4px)}
.mo.open{display:flex}
.modal{background:var(--sf);border-radius:var(--rl);width:100%;max-width:560px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.2)}
.mo-h{padding:14px 18px;border-bottom:1px solid var(--bd);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;background:var(--sf);z-index:1}
.mo-h h3{font-size:15px;font-weight:700}
.mo-x{width:30px;height:30px;border-radius:8px;border:none;background:var(--sf2);cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;color:var(--tx2)}
.mo-b{padding:18px}
.mo-f{padding:14px 18px;border-top:1px solid var(--bd);display:flex;justify-content:flex-end;gap:6px}
.thg{display:grid;grid-template-columns:repeat(5,1fr);gap:5px}
.tho{height:28px;border-radius:5px;cursor:pointer;border:2.5px solid transparent;transition:.15s}
.tho:hover{transform:scale(1.1)}
.tho.sel{border-color:var(--tx);box-shadow:0 0 0 2px var(--sf),0 0 0 4px var(--tx)}
.pvw{border-radius:var(--r);overflow:hidden;border:1px solid var(--bd);margin-top:10px}
.pvw-h{padding:10px 12px;color:#fff}
.pvw-h .pt{display:inline-block;padding:2px 6px;border-radius:99px;font-size:9px;background:rgba(255,255,255,.2);margin-bottom:3px}
.pvw-h h4{font-size:13px;font-weight:700}.pvw-h p{font-size:10px;opacity:.75}
.al{padding:8px 12px;border-radius:var(--r);font-size:11px;margin-bottom:12px;display:flex;align-items:flex-start;gap:6px}
.al-i{background:#eff6ff;color:#1e40af;border:1px solid #bfdbfe}
.empty{text-align:center;padding:24px 12px;color:var(--tx3);font-size:12px}
.toast-a{position:fixed;top:60px;left:50%;transform:translateX(-50%);background:#065f46;color:#fff;padding:10px 20px;border-radius:10px;font-size:13px;font-weight:600;z-index:999;box-shadow:0 8px 24px rgba(0,0,0,.2);white-space:nowrap}
@media(max-width:600px){.fr,.fr3{grid-template-columns:1fr}.hdr-act{gap:4px}.hdr-act .bt{font-size:11px;padding:5px 8px}}
</style>
</head>
<body>
<header class="hdr">
<h1>&#9881; Painel Admin <span>| Escola de Contas</span></h1>
<div class="hdr-act">
<button class="bt bt-g" onclick="doPreview()" style="color:#fff;border-color:rgba(255,255,255,.2)">&#128065; Preview</button>
<button class="bt bt-ok" onclick="doExportJSON()">&#128190; JSON</button>
<button class="bt bt-p" onclick="doExportSite()">&#128196; Gerar Site</button>
</div>
</header>
<div class="wrap">
<div class="tabs" id="tabs"></div>
<div class="pan act" id="p-geral"></div>
<div class="pan" id="p-turnos"></div>
<div class="pan" id="p-form"></div>
<div class="pan" id="p-msgs"></div>
<div class="pan" id="p-gforms"></div>
</div>
<div class="mo" id="mo-course"><div class="modal"><div class="mo-h"><h3 id="mo-course-t">Editar Curso</h3><button class="mo-x" onclick="closeM('mo-course')">&#10005;</button></div><div class="mo-b" id="mo-course-b"></div><div class="mo-f"><button class="bt bt-g" onclick="closeM('mo-course')">Cancelar</button><button class="bt bt-p" onclick="saveCourse()">Salvar</button></div></div></div>
<div class="mo" id="mo-turno"><div class="modal"><div class="mo-h"><h3>Editar Turno</h3><button class="mo-x" onclick="closeM('mo-turno')">&#10005;</button></div><div class="mo-b" id="mo-turno-b"></div><div class="mo-f"><button class="bt bt-g" onclick="closeM('mo-turno')">Cancelar</button><button class="bt bt-p" onclick="saveTurno()">Salvar</button></div></div></div>
<div class="mo" id="mo-field"><div class="modal"><div class="mo-h"><h3>Editar Campo</h3><button class="mo-x" onclick="closeM('mo-field')">&#10005;</button></div><div class="mo-b" id="mo-field-b"></div><div class="mo-f"><button class="bt bt-g" onclick="closeM('mo-field')">Cancelar</button><button class="bt bt-p" onclick="saveField()">Salvar</button></div></div></div>
<script>
/* === BASE64 SITE TEMPLATES === */
var SITE_CSS_B64 = "Lyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgICAgICAgICAgTU9CSUxFLUZJUlNUIFJFU0VUICYgVE9LRU5TCiAgICAgICAgICAgQmFzZSA9IG1vYmlsZSAoPCA2NDBweCkuIFNjYWxlIHVwIHZpYSBtaW4td2lkdGguCiAgICAgICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCiAgICAgICAgKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfQogICAgICAgIDpyb290IHsKICAgICAgICAgICAgLS1mb250LWJvZHk6ICdETSBTYW5zJywgc3lzdGVtLXVpLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAtLWZvbnQtZGlzcGxheTogJ1BsYXlmYWlyIERpc3BsYXknLCBHZW9yZ2lhLCBzZXJpZjsKICAgICAgICAgICAgLS1uYXZ5LTkwMDogIzBjMWIzMzsKICAgICAgICAgICAgLS1uYXZ5LTgwMDogIzEzMjc0ZjsKICAgICAgICAgICAgLS1za3ktNTAwOiAjMGVhNWU5OwogICAgICAgICAgICAtLXNreS00MDA6ICMzOGJkZjg7CiAgICAgICAgICAgIC0tZW1lcmFsZC01MDA6ICMxMGI5ODE7CiAgICAgICAgICAgIC0tZW1lcmFsZC00MDA6ICMzNGQzOTk7CiAgICAgICAgICAgIC0tZW1lcmFsZC02MDA6ICMwNTk2Njk7CiAgICAgICAgICAgIC0tYW1iZXItNTAwOiAjZjU5ZTBiOwogICAgICAgICAgICAtLWFtYmVyLTQwMDogI2ZiYmYyNDsKICAgICAgICAgICAgLS1yZWQtNTAwOiAjZWY0NDQ0OwogICAgICAgICAgICAtLXNsYXRlLTUwOiAjZjhmYWZjOwogICAgICAgICAgICAtLXNsYXRlLTEwMDogI2YxZjVmOTsKICAgICAgICAgICAgLS1zbGF0ZS0yMDA6ICNlMmU4ZjA7CiAgICAgICAgICAgIC0tc2xhdGUtMzAwOiAjY2JkNWUxOwogICAgICAgICAgICAtLXNsYXRlLTQwMDogIzk0YTNiODsKICAgICAgICAgICAgLS1zbGF0ZS01MDA6ICM2NDc0OGI7CiAgICAgICAgICAgIC0tc2xhdGUtNjAwOiAjNDc1NTY5OwogICAgICAgICAgICAtLXNsYXRlLTcwMDogIzMzNDE1NTsKICAgICAgICAgICAgLS1zbGF0ZS04MDA6ICMxZTI5M2I7CiAgICAgICAgICAgIC0tc2xhdGUtOTAwOiAjMGYxNzJhOwogICAgICAgICAgICAtLXJhZGl1cy1sZzogMTZweDsKICAgICAgICAgICAgLS1yYWRpdXMteGw6IDIwcHg7CiAgICAgICAgICAgIC0tc2hhZG93LWNhcmQ6IDAgMXB4IDNweCByZ2JhKDAsMCwwLC4wNiksIDAgNnB4IDE2cHggcmdiYSgwLDAsMCwuMDUpOwogICAgICAgICAgICAtLXNoYWRvdy1jYXJkLWhvdmVyOiAwIDRweCAxMnB4IHJnYmEoMCwwLDAsLjA4KSwgMCAxNnB4IDQwcHggcmdiYSgwLDAsMCwuMSk7CiAgICAgICAgICAgIC0tc2hhZG93LWZsb2F0OiAwIDhweCAzMnB4IHJnYmEoMCwwLDAsLjEyKSwgMCAycHggOHB4IHJnYmEoMCwwLDAsLjA2KTsKICAgICAgICAgICAgLS10cmFuc2l0aW9uLWJhc2U6IDAuMjVzIGN1YmljLWJlemllciguNCwwLC4yLDEpOwogICAgICAgICAgICAvKiBTYWZlIGFyZWEgZm9yIG5vdGNoZWQgcGhvbmVzICovCiAgICAgICAgICAgIC0tc2FmZS1ib3R0b206IGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpOwogICAgICAgICAgICAtLXNhZmUtbGVmdDogZW52KHNhZmUtYXJlYS1pbnNldC1sZWZ0LCAwcHgpOwogICAgICAgICAgICAtLXNhZmUtcmlnaHQ6IGVudihzYWZlLWFyZWEtaW5zZXQtcmlnaHQsIDBweCk7CiAgICAgICAgfQogICAgICAgIGh0bWwgeyBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDsgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7IC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogMTAwJTsgfQogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tZm9udC1ib2R5KTsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtMTAwKTsgY29sb3I6IHZhcigtLXNsYXRlLTgwMCk7CiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDEwMHZoOyBtaW4taGVpZ2h0OiAxMDBkdmg7IC8qIGR5bmFtaWMgdmlld3BvcnQgZm9yIG1vYmlsZSAqLwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS42OyBvdmVyZmxvdy14OiBoaWRkZW47CiAgICAgICAgfQogICAgICAgIGltZyB7IG1heC13aWR0aDogMTAwJTsgZGlzcGxheTogYmxvY2s7IH0KICAgICAgICBidXR0b24geyBjdXJzb3I6IHBvaW50ZXI7IGZvbnQtZmFtaWx5OiBpbmhlcml0OyBib3JkZXI6IG5vbmU7IC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7IH0KICAgICAgICBpbnB1dCwgc2VsZWN0IHsgZm9udC1mYW1pbHk6IGluaGVyaXQ7IGZvbnQtc2l6ZTogMTZweDsgLyogcHJldmVudHMgaU9TIHpvb20gb24gZm9jdXMgKi8gfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBIRUFERVIg4oCUIE1vYmlsZSBiYXNlIChjb21wYWN0KQogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC5zaXRlLWhlYWRlciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDsgei1pbmRleDogMTAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC45Mik7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxNnB4KSBzYXR1cmF0ZSgxODAlKTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTZweCkgc2F0dXJhdGUoMTgwJSk7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0yMDApOwogICAgICAgICAgICBoZWlnaHQ6IDU2cHg7CiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogdmFyKC0tc2FmZS1sZWZ0KTsgcGFkZGluZy1yaWdodDogdmFyKC0tc2FmZS1yaWdodCk7CiAgICAgICAgfQogICAgICAgIC5oZWFkZXItaW5uZXIgewogICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMCAxNnB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGhlaWdodDogMTAwJTsKICAgICAgICB9CiAgICAgICAgLmxvZ28tZ3JvdXAgeyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBnYXA6IDEwcHg7IH0KICAgICAgICAubG9nby1tYXJrIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMzJweDsgaGVpZ2h0OiAzMnB4OyBmbGV4LXNocmluazogMDsgfQogICAgICAgIC5sb2dvLW1hcmsgLmJhY2sgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDI2cHg7IGhlaWdodDogMjZweDsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2RjMjYyNiwgI2VmNDQ0NCk7IGJvcmRlci1yYWRpdXM6IDdweDsgfQogICAgICAgIC5sb2dvLW1hcmsgLmZyb250IHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDZweDsgbGVmdDogNnB4OyB3aWR0aDogMjZweDsgaGVpZ2h0OiAyNnB4OyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCB2YXIoLS1za3ktNTAwKSwgdmFyKC0tc2t5LTQwMCkpOyBib3JkZXItcmFkaXVzOiA3cHg7IH0KICAgICAgICAubG9nby10ZXh0IHsgZm9udC13ZWlnaHQ6IDgwMDsgZm9udC1zaXplOiAxM3B4OyBsZXR0ZXItc3BhY2luZzogLjAyZW07IGNvbG9yOiB2YXIoLS1zbGF0ZS04MDApOyB3aGl0ZS1zcGFjZTogbm93cmFwOyB9CiAgICAgICAgLmxvZ28tdGV4dCBzcGFuIHsgY29sb3I6IHZhcigtLXNsYXRlLTQwMCk7IGZvbnQtd2VpZ2h0OiA1MDA7IH0KICAgICAgICAuaGVhZGVyLWJhZGdlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogdmFyKC0tc2xhdGUtNTAwKTsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtMTAwKTsKICAgICAgICAgICAgcGFkZGluZzogM3B4IDEwcHg7IGJvcmRlci1yYWRpdXM6IDk5cHg7IGZvbnQtd2VpZ2h0OiA1MDA7IGZsZXgtc2hyaW5rOiAwOwogICAgICAgIH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7CiAgICAgICAgICAgIC5zaXRlLWhlYWRlciB7IGhlaWdodDogNjBweDsgfQogICAgICAgICAgICAuaGVhZGVyLWlubmVyIHsgcGFkZGluZzogMCAyNHB4OyBtYXgtd2lkdGg6IDEyMDBweDsgfQogICAgICAgICAgICAubG9nby1tYXJrIHsgd2lkdGg6IDM2cHg7IGhlaWdodDogMzZweDsgfQogICAgICAgICAgICAubG9nby1tYXJrIC5iYWNrLCAubG9nby1tYXJrIC5mcm9udCB7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7IH0KICAgICAgICAgICAgLmxvZ28tdGV4dCB7IGZvbnQtc2l6ZTogMTVweDsgfQogICAgICAgICAgICAuaGVhZGVyLWJhZGdlIHsgZm9udC1zaXplOiAxMnB4OyBwYWRkaW5nOiA0cHggMTJweDsgfQogICAgICAgIH0KCiAgICAgICAgLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgICAgICAgICAgSEVSTyDigJQgTW9iaWxlIGJhc2UgKHRpZ2h0ZXIpCiAgICAgICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCiAgICAgICAgLmhlcm8gewogICAgICAgICAgICBwYWRkaW5nLXRvcDogNTZweDsgLyogbWF0Y2ggbW9iaWxlIGhlYWRlciAqLwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTYwZGVnLCB2YXIoLS1uYXZ5LTkwMCkgMCUsIHZhcigtLW5hdnktODAwKSA0MCUsICMwYzMxNTUgMTAwJSk7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICB9CiAgICAgICAgLmhlcm86OmJlZm9yZSB7CiAgICAgICAgICAgIGNvbnRlbnQ6ICcnOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTMwJTsgcmlnaHQ6IC0zMCU7IHdpZHRoOiA0MDBweDsgaGVpZ2h0OiA0MDBweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgxNCwxNjUsMjMzLC4xMikgMCUsIHRyYW5zcGFyZW50IDcwJSk7CiAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgIH0KICAgICAgICAuaGVybzo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnJzsgcG9zaXRpb246IGFic29sdXRlOyBib3R0b206IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBoZWlnaHQ6IDYwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byB0b3AsIHZhcigtLXNsYXRlLTEwMCksIHRyYW5zcGFyZW50KTsKICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICAgICAgfQogICAgICAgIC5oZXJvLWlubmVyIHsKICAgICAgICAgICAgbWF4LXdpZHRoOiA4MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDI4cHggMTZweCA0NHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMTsKICAgICAgICB9CiAgICAgICAgLmhlcm8tYmFkZ2UgewogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiA2cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjA4KTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMSk7CiAgICAgICAgICAgIHBhZGRpbmc6IDVweCAxMnB4OyBib3JkZXItcmFkaXVzOiA5OXB4OyBtYXJnaW4tYm90dG9tOiAxNHB4OwogICAgICAgIH0KICAgICAgICAuaGVyby1iYWRnZSAuZG90IHsgd2lkdGg6IDdweDsgaGVpZ2h0OiA3cHg7IGJhY2tncm91bmQ6IHZhcigtLWVtZXJhbGQtNDAwKTsgYm9yZGVyLXJhZGl1czogNTAlOyBhbmltYXRpb246IHB1bHNlLWRvdCAycyBlYXNlIGluZmluaXRlOyB9CiAgICAgICAgQGtleWZyYW1lcyBwdWxzZS1kb3QgeyAwJSwxMDAlIHsgb3BhY2l0eTogMTsgfSA1MCUgeyBvcGFjaXR5OiAuNDsgfSB9CiAgICAgICAgLmhlcm8tYmFkZ2Ugc3BhbiB7IGNvbG9yOiB2YXIoLS1lbWVyYWxkLTQwMCk7IGZvbnQtc2l6ZTogMTJweDsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgIC5oZXJvIGgxIHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZGlzcGxheSk7IGZvbnQtc2l6ZTogMjRweDsgY29sb3I6ICNmZmY7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjI7IG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgfQogICAgICAgIC5oZXJvIGgxIGVtIHsgZm9udC1zdHlsZTogbm9ybWFsOyBjb2xvcjogdmFyKC0tYW1iZXItNDAwKTsgfQogICAgICAgIC5oZXJvIHAgeyBjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwuNik7IGZvbnQtc2l6ZTogMTRweDsgbWF4LXdpZHRoOiA1NDBweDsgbWFyZ2luOiAwIGF1dG8gMThweDsgbGluZS1oZWlnaHQ6IDEuNTsgfQogICAgICAgIC5oZXJvLXRhZ3MgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LXdyYXA6IHdyYXA7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDZweDsgfQogICAgICAgIC5oZXJvLXRhZyB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjA3KTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMDgpOwogICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDsgYm9yZGVyLXJhZGl1czogOTlweDsgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjcpOwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgfQogICAgICAgIC5oZXJvLXRhZy5oaWdobGlnaHQgeyBiYWNrZ3JvdW5kOiByZ2JhKDI0NSwxNTgsMTEsLjE1KTsgYm9yZGVyLWNvbG9yOiByZ2JhKDI0NSwxNTgsMTEsLjI1KTsgY29sb3I6IHZhcigtLWFtYmVyLTQwMCk7IH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7CiAgICAgICAgICAgIC5oZXJvIHsgcGFkZGluZy10b3A6IDYwcHg7IH0KICAgICAgICAgICAgLmhlcm8taW5uZXIgeyBwYWRkaW5nOiA0MHB4IDI0cHggNTZweDsgfQogICAgICAgICAgICAuaGVybyBoMSB7IGZvbnQtc2l6ZTogY2xhbXAoMjhweCwgNXZ3LCA0NHB4KTsgfQogICAgICAgICAgICAuaGVybyBwIHsgZm9udC1zaXplOiAxNnB4OyBtYXJnaW4tYm90dG9tOiAyNHB4OyB9CiAgICAgICAgICAgIC5oZXJvLWJhZGdlIHNwYW4geyBmb250LXNpemU6IDEzcHg7IH0KICAgICAgICAgICAgLmhlcm8tdGFncyB7IGdhcDogOHB4OyB9CiAgICAgICAgICAgIC5oZXJvLXRhZyB7IHBhZGRpbmc6IDZweCAxNHB4OyBmb250LXNpemU6IDEzcHg7IH0KICAgICAgICB9CgogICAgICAgIC8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICAgICAgICAgIFBST0dSRVNTIEJBUiDigJQgTW9iaWxlIGJhc2UgKGNvbXBhY3QgY2lyY2xlcywgbm8gbGFiZWxzKQogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC5wcm9ncmVzcy1iYXIgewogICAgICAgICAgICBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDU2cHg7IHotaW5kZXg6IDUwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LC45NSk7CiAgICAgICAgICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsKICAgICAgICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0yMDApOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDA7CiAgICAgICAgfQogICAgICAgIC5wcm9ncmVzcy1pbm5lciB7CiAgICAgICAgICAgIG1heC13aWR0aDogNzAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAwIDEycHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIC5wcm9nLXN0ZXAgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBhbGlnbi1pdGVtczogY2VudGVyOyBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgZmxleC1zaHJpbms6IDA7CiAgICAgICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIC8qIEJpZ2dlciB0b3VjaCB0YXJnZXQgb24gbW9iaWxlICovCiAgICAgICAgICAgIHBhZGRpbmc6IDRweDsKICAgICAgICB9CiAgICAgICAgLnByb2ctY2lyY2xlIHsKICAgICAgICAgICAgd2lkdGg6IDMycHg7IGhlaWdodDogMzJweDsgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxMXB4OwogICAgICAgICAgICBib3JkZXI6IDIuNXB4IHNvbGlkIHZhcigtLXNsYXRlLTMwMCk7IGJhY2tncm91bmQ6ICNmZmY7IGNvbG9yOiB2YXIoLS1zbGF0ZS00MDApOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyOwogICAgICAgIH0KICAgICAgICAucHJvZy1sYWJlbCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogOXB4OyBjb2xvcjogdmFyKC0tc2xhdGUtNDAwKTsgbWFyZ2luLXRvcDogM3B4OyBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOyBkaXNwbGF5OiBub25lOyAvKiBoaWRkZW4gb24gbW9iaWxlICovCiAgICAgICAgfQogICAgICAgIC5wcm9nLWxpbmUgewogICAgICAgICAgICBmbGV4OiAxOyBoZWlnaHQ6IDIuNXB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1zbGF0ZS0yMDApOyBib3JkZXItcmFkaXVzOiA5OXB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kIHZhcigtLXRyYW5zaXRpb24tYmFzZSk7IG1pbi13aWR0aDogOHB4OwogICAgICAgIH0KCiAgICAgICAgLyogUHJvZ3Jlc3MgU3RhdGVzICovCiAgICAgICAgLnByb2ctc3RlcC5hY3RpdmUgLnByb2ctY2lyY2xlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgdmFyKC0tc2t5LTUwMCksICMyNTYzZWIpOwogICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLXNreS01MDApOyBjb2xvcjogI2ZmZjsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMTQsMTY1LDIzMywuMTgpOwogICAgICAgIH0KICAgICAgICAucHJvZy1zdGVwLmFjdGl2ZSAucHJvZy1sYWJlbCB7IGNvbG9yOiB2YXIoLS1za3ktNTAwKTsgZm9udC13ZWlnaHQ6IDYwMDsgfQogICAgICAgIC5wcm9nLXN0ZXAuY29tcGxldGVkIC5wcm9nLWNpcmNsZSB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsIHZhcigtLWVtZXJhbGQtNTAwKSwgdmFyKC0tZW1lcmFsZC02MDApKTsKICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1lbWVyYWxkLTUwMCk7IGNvbG9yOiAjZmZmOwogICAgICAgIH0KICAgICAgICAucHJvZy1zdGVwLmNvbXBsZXRlZCAucHJvZy1sYWJlbCB7IGNvbG9yOiB2YXIoLS1lbWVyYWxkLTUwMCk7IH0KICAgICAgICAucHJvZy1zdGVwLnNraXBwZWQgLnByb2ctY2lyY2xlIHsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtMTAwKTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1zbGF0ZS0zMDApOyBjb2xvcjogdmFyKC0tc2xhdGUtNDAwKTsgfQogICAgICAgIC5wcm9nLWxpbmUuZG9uZSB7IGJhY2tncm91bmQ6IHZhcigtLWVtZXJhbGQtNTAwKTsgfQoKICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHsKICAgICAgICAgICAgLnByb2dyZXNzLWJhciB7IHRvcDogNjBweDsgcGFkZGluZzogMTRweCAwOyB9CiAgICAgICAgICAgIC5wcm9ncmVzcy1pbm5lciB7IHBhZGRpbmc6IDAgMjRweDsgfQogICAgICAgICAgICAucHJvZy1zdGVwIHsgcGFkZGluZzogMnB4OyB9CiAgICAgICAgICAgIC5wcm9nLXN0ZXA6aG92ZXIgLnByb2ctY2lyY2xlIHsgdHJhbnNmb3JtOiBzY2FsZSgxLjEyKTsgfQogICAgICAgICAgICAucHJvZy1jaXJjbGUgeyB3aWR0aDogMzhweDsgaGVpZ2h0OiAzOHB4OyBmb250LXNpemU6IDEzcHg7IH0KICAgICAgICAgICAgLnByb2ctbGFiZWwgeyBkaXNwbGF5OiBibG9jazsgZm9udC1zaXplOiAxMHB4OyBtYXJnaW4tdG9wOiA0cHg7IH0KICAgICAgICAgICAgLnByb2ctbGluZSB7IGhlaWdodDogM3B4OyBtaW4td2lkdGg6IDEycHg7IH0KICAgICAgICAgICAgLnByb2ctc3RlcC5hY3RpdmUgLnByb2ctY2lyY2xlIHsgYm94LXNoYWRvdzogMCAwIDAgNHB4IHJnYmEoMTQsMTY1LDIzMywuMTgpOyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBGTE9BVElORyBDT1VOVEVSIOKAlCBNb2JpbGUgYmFzZSAoc21hbGxlciwgYm90dG9tIHNhZmUgYXJlYSkKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAuZmxvYXQtY291bnRlciB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogOTA7CiAgICAgICAgICAgIGJvdHRvbTogY2FsYygxNnB4ICsgdmFyKC0tc2FmZS1ib3R0b20pKTsgcmlnaHQ6IDE2cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmY7IGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy14bCk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1mbG9hdCk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNsYXRlLTIwMCk7CiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHggMTRweDsgdGV4dC1hbGlnbjogY2VudGVyOyBtaW4td2lkdGg6IDEwMHB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTsKICAgICAgICB9CiAgICAgICAgLmZsb2F0LWNvdW50ZXItbGFiZWwgeyBmb250LXNpemU6IDEwcHg7IGNvbG9yOiB2YXIoLS1zbGF0ZS01MDApOyBmb250LXdlaWdodDogNTAwOyBtYXJnaW4tYm90dG9tOiAycHg7IH0KICAgICAgICAuZmxvYXQtY291bnRlci1udW0geyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiA4MDA7IGNvbG9yOiB2YXIoLS1zbGF0ZS04MDApOyBsaW5lLWhlaWdodDogMTsgfQogICAgICAgIC5mbG9hdC1jb3VudGVyLW51bSBzbWFsbCB7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IDUwMDsgY29sb3I6IHZhcigtLXNsYXRlLTQwMCk7IH0KICAgICAgICAuZmxvYXQtY291bnRlci1zdGF0dXMgewogICAgICAgICAgICBtYXJnaW4tdG9wOiA2cHg7IGZvbnQtc2l6ZTogMTBweDsgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgcGFkZGluZzogMnB4IDhweDsgYm9yZGVyLXJhZGl1czogOTlweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICAgIH0KICAgICAgICAuZmxvYXQtY291bnRlci1zdGF0dXMud2FybiB7IGJhY2tncm91bmQ6ICNmZWYzYzc7IGNvbG9yOiAjOTI0MDBlOyB9CiAgICAgICAgLmZsb2F0LWNvdW50ZXItc3RhdHVzLm9rIHsgYmFja2dyb3VuZDogI2QxZmFlNTsgY29sb3I6ICMwNjVmNDY7IH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7CiAgICAgICAgICAgIC5mbG9hdC1jb3VudGVyIHsgYm90dG9tOiAyNHB4OyByaWdodDogMjRweDsgcGFkZGluZzogMTZweCAyMHB4OyBtaW4td2lkdGg6IDEyMHB4OyB9CiAgICAgICAgICAgIC5mbG9hdC1jb3VudGVyLW51bSB7IGZvbnQtc2l6ZTogMzJweDsgfQogICAgICAgICAgICAuZmxvYXQtY291bnRlci1udW0gc21hbGwgeyBmb250LXNpemU6IDE2cHg7IH0KICAgICAgICAgICAgLmZsb2F0LWNvdW50ZXItbGFiZWwgeyBmb250LXNpemU6IDExcHg7IH0KICAgICAgICAgICAgLmZsb2F0LWNvdW50ZXItc3RhdHVzIHsgZm9udC1zaXplOiAxMXB4OyBwYWRkaW5nOiAzcHggMTBweDsgbWFyZ2luLXRvcDogOHB4OyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBTVEVQIFBBTkVMUyDigJQgTW9iaWxlIGJhc2UKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAubWFpbi1jb250ZW50IHsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHggMTZweCAxMjBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IGNhbGMoMTIwcHggKyB2YXIoLS1zYWZlLWJvdHRvbSkpOwogICAgICAgIH0KICAgICAgICAuc3RlcC1wYW5lbCB7IGRpc3BsYXk6IG5vbmU7IGFuaW1hdGlvbjogZmFkZVNsaWRlIC4zNXMgZWFzZTsgfQogICAgICAgIC5zdGVwLXBhbmVsLmFjdGl2ZSB7IGRpc3BsYXk6IGJsb2NrOyB9CiAgICAgICAgQGtleWZyYW1lcyBmYWRlU2xpZGUgeyBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEycHgpOyB9IHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9IH0KCiAgICAgICAgLnR1cm5vLWhlYWRlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDsgfQogICAgICAgIC50dXJuby1iYWRnZSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogNHB4IDEycHg7IGJvcmRlci1yYWRpdXM6IDk5cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDYwMDsgbWFyZ2luLWJvdHRvbTogNnB4OwogICAgICAgIH0KICAgICAgICAudHVybm8tdGl0bGUgeyBmb250LWZhbWlseTogdmFyKC0tZm9udC1kaXNwbGF5KTsgZm9udC1zaXplOiAyMnB4OyBjb2xvcjogdmFyKC0tc2xhdGUtODAwKTsgbWFyZ2luLWJvdHRvbTogNHB4OyB9CiAgICAgICAgLnR1cm5vLXN1YiB7IGNvbG9yOiB2YXIoLS1zbGF0ZS01MDApOyBmb250LXNpemU6IDEzcHg7IH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7CiAgICAgICAgICAgIC5tYWluLWNvbnRlbnQgeyBtYXgtd2lkdGg6IDExMDBweDsgcGFkZGluZzogMzJweCAyNHB4IDE0MHB4OyB9CiAgICAgICAgICAgIC50dXJuby1oZWFkZXIgeyBtYXJnaW4tYm90dG9tOiAzMnB4OyB9CiAgICAgICAgICAgIC50dXJuby1iYWRnZSB7IHBhZGRpbmc6IDVweCAxNnB4OyBmb250LXNpemU6IDEzcHg7IG1hcmdpbi1ib3R0b206IDhweDsgfQogICAgICAgICAgICAudHVybm8tdGl0bGUgeyBmb250LXNpemU6IDI4cHg7IH0KICAgICAgICAgICAgLnR1cm5vLXN1YiB7IGZvbnQtc2l6ZTogMTRweDsgfQogICAgICAgIH0KCiAgICAgICAgLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgICAgICAgICAgQ09VUlNFIENBUkRTIOKAlCBNb2JpbGU6IHNpbmdsZSBjb2x1bW4sIGZ1bGwtd2lkdGgKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAuY2FyZHMtZ3JpZCB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyBnYXA6IDE0cHg7IH0KICAgICAgICAuY291cnNlLWNhcmQgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMtbGcpOyBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB0cmFuc3BhcmVudDsgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWNhcmQpOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTsgY3Vyc29yOiBwb2ludGVyOyBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIC8qIGFjdGl2ZSBzdGF0ZSBmb3IgdG91Y2ggKi8KICAgICAgICB9CiAgICAgICAgLmNvdXJzZS1jYXJkOmFjdGl2ZSB7IHRyYW5zZm9ybTogc2NhbGUoLjk4KTsgfQogICAgICAgIC5jb3Vyc2UtY2FyZC5zZWxlY3RlZCB7IGJvcmRlci1jb2xvcjogdmFyKC0tZW1lcmFsZC01MDApOyBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgxNiwxODUsMTI5LC4xNSksIHZhcigtLXNoYWRvdy1jYXJkKTsgfQogICAgICAgIC5jb3Vyc2UtY2FyZC5zZWxlY3RlZCAuY2FyZC1jaGVjayB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH0KICAgICAgICAuY291cnNlLWNhcmQuc2VsZWN0ZWQgLmNhcmQtaGVhZDo6YWZ0ZXIgewogICAgICAgICAgICBjb250ZW50OiAnJzsgcG9zaXRpb246IGFic29sdXRlOyBpbnNldDogMDsgYmFja2dyb3VuZDogcmdiYSgxNiwxODUsMTI5LC4xNSk7CiAgICAgICAgfQoKICAgICAgICAuY2FyZC1oZWFkIHsgcGFkZGluZzogMTZweDsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICAgICAgLmNhcmQtaGVhZDo6YmVmb3JlIHsKICAgICAgICAgICAgY29udGVudDogJyc7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtNTAlOyByaWdodDogLTMwJTsgd2lkdGg6IDIwMHB4OyBoZWlnaHQ6IDIwMHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCByZ2JhKDI1NSwyNTUsMjU1LC4xKSAwJSwgdHJhbnNwYXJlbnQgNzAlKTsKICAgICAgICB9CiAgICAgICAgLmNhcmQtY2hlY2sgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgcmlnaHQ6IDEwcHg7IHdpZHRoOiAyOHB4OyBoZWlnaHQ6IDI4cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWVtZXJhbGQtNTAwKTsgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiBzY2FsZSguNSk7IHRyYW5zaXRpb246IGFsbCAuMjVzIGN1YmljLWJlemllciguMzQsMS41NiwuNjQsMSk7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDhweCByZ2JhKDE2LDE4NSwxMjksLjQpOyB6LWluZGV4OiAyOwogICAgICAgIH0KICAgICAgICAuY2FyZC1jaGVjayBzdmcgeyB3aWR0aDogMTZweDsgaGVpZ2h0OiAxNnB4OyBjb2xvcjogI2ZmZjsgc3Ryb2tlLXdpZHRoOiAzOyB9CiAgICAgICAgLmNhcmQtdGFnIHsKICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nOiAycHggOHB4OyBib3JkZXItcmFkaXVzOiA5OXB4OwogICAgICAgICAgICBmb250LXNpemU6IDEwcHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsLjE4KTsgY29sb3I6ICNmZmY7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDZweDsKICAgICAgICB9CiAgICAgICAgLmNhcmQtaGVhZCBoMyB7IGNvbG9yOiAjZmZmOyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjI1OyB9CiAgICAgICAgLmNhcmQtaGVhZCBwIHsgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsLjc1KTsgZm9udC1zaXplOiAxMnB4OyBtYXJnaW4tdG9wOiAycHg7IH0KCiAgICAgICAgLmNhcmQtYm9keSB7IHBhZGRpbmc6IDE2cHg7IH0KICAgICAgICAuaW5zdHJ1Y3RvciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMTBweDsKICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDEycHg7IG1hcmdpbi1ib3R0b206IDEycHg7IGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0xMDApOwogICAgICAgIH0KICAgICAgICAuaW5zdHJ1Y3Rvci1hdmF0YXIgewogICAgICAgICAgICB3aWR0aDogMzZweDsgaGVpZ2h0OiAzNnB4OyBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogI2ZmZjsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxMnB4OyBmbGV4LXNocmluazogMDsKICAgICAgICB9CiAgICAgICAgLmluc3RydWN0b3ItbmFtZSB7IGZvbnQtd2VpZ2h0OiA2MDA7IGZvbnQtc2l6ZTogMTNweDsgY29sb3I6IHZhcigtLXNsYXRlLTgwMCk7IH0KICAgICAgICAuaW5zdHJ1Y3Rvci1yb2xlIHsgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogdmFyKC0tc2xhdGUtNTAwKTsgfQoKICAgICAgICAuY2FyZC1zZWN0aW9uLXRpdGxlIHsKICAgICAgICAgICAgZm9udC1zaXplOiA5cHg7IGZvbnQtd2VpZ2h0OiA3MDA7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAuMDhlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXNsYXRlLTQwMCk7IG1hcmdpbi1ib3R0b206IDNweDsKICAgICAgICB9CiAgICAgICAgLmNhcmQtZGVzYyB7IGZvbnQtc2l6ZTogMTIuNXB4OyBjb2xvcjogdmFyKC0tc2xhdGUtNjAwKTsgbGluZS1oZWlnaHQ6IDEuNTsgbWFyZ2luLWJvdHRvbTogMTJweDsgfQoKICAgICAgICAuY2FyZC1mb290ZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxMnB4OyBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tc2xhdGUtMTAwKTsKICAgICAgICB9CiAgICAgICAgLmNhcmQtbWV0YSB7IGRpc3BsYXk6IGZsZXg7IGdhcDogMTBweDsgZm9udC1zaXplOiAxMXB4OyBjb2xvcjogdmFyKC0tc2xhdGUtNTAwKTsgfQogICAgICAgIC5jYXJkLWN0YSB7IGZvbnQtc2l6ZTogMTFweDsgZm9udC13ZWlnaHQ6IDYwMDsgdHJhbnNpdGlvbjogY29sb3IgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTsgfQogICAgICAgIC5jb3Vyc2UtY2FyZC5zZWxlY3RlZCAuY2FyZC1jdGEgeyBjb2xvcjogdmFyKC0tZW1lcmFsZC01MDApOyB9CgogICAgICAgIC8qIENhcmRzIOKAlCBUYWJsZXQ6IDIgY29sdW1ucyAqLwogICAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA2NDBweCkgewogICAgICAgICAgICAuY2FyZHMtZ3JpZCB7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIDFmcik7IGdhcDogMTZweDsgfQogICAgICAgICAgICAuY291cnNlLWNhcmQgeyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMteGwpOyB9CiAgICAgICAgICAgIC5jb3Vyc2UtY2FyZDphY3RpdmUgeyB0cmFuc2Zvcm06IG5vbmU7IH0KICAgICAgICAgICAgLmNvdXJzZS1jYXJkOmhvdmVyIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOyBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctY2FyZC1ob3Zlcik7IH0KICAgICAgICAgICAgLmNhcmQtaGVhZCB7IHBhZGRpbmc6IDIwcHggMjBweCAxNnB4OyB9CiAgICAgICAgICAgIC5jYXJkLWNoZWNrIHsgd2lkdGg6IDMycHg7IGhlaWdodDogMzJweDsgdG9wOiAxMnB4OyByaWdodDogMTJweDsgfQogICAgICAgICAgICAuY2FyZC1jaGVjayBzdmcgeyB3aWR0aDogMThweDsgaGVpZ2h0OiAxOHB4OyB9CiAgICAgICAgICAgIC5jYXJkLXRhZyB7IHBhZGRpbmc6IDNweCAxMHB4OyBmb250LXNpemU6IDExcHg7IG1hcmdpbi1ib3R0b206IDhweDsgfQogICAgICAgICAgICAuY2FyZC1oZWFkIGgzIHsgZm9udC1zaXplOiAxOHB4OyB9CiAgICAgICAgICAgIC5jYXJkLWhlYWQgcCB7IGZvbnQtc2l6ZTogMTNweDsgfQogICAgICAgICAgICAuY2FyZC1ib2R5IHsgcGFkZGluZzogMjBweDsgfQogICAgICAgICAgICAuaW5zdHJ1Y3RvciB7IGdhcDogMTJweDsgcGFkZGluZy1ib3R0b206IDE2cHg7IG1hcmdpbi1ib3R0b206IDE2cHg7IH0KICAgICAgICAgICAgLmluc3RydWN0b3ItYXZhdGFyIHsgd2lkdGg6IDQwcHg7IGhlaWdodDogNDBweDsgZm9udC1zaXplOiAxM3B4OyB9CiAgICAgICAgICAgIC5pbnN0cnVjdG9yLW5hbWUgeyBmb250LXNpemU6IDE0cHg7IH0KICAgICAgICAgICAgLmluc3RydWN0b3Itcm9sZSB7IGZvbnQtc2l6ZTogMTJweDsgfQogICAgICAgICAgICAuY2FyZC1zZWN0aW9uLXRpdGxlIHsgZm9udC1zaXplOiAxMHB4OyBtYXJnaW4tYm90dG9tOiA0cHg7IH0KICAgICAgICAgICAgLmNhcmQtZGVzYyB7IGZvbnQtc2l6ZTogMTNweDsgbGluZS1oZWlnaHQ6IDEuNTU7IG1hcmdpbi1ib3R0b206IDE0cHg7IH0KICAgICAgICAgICAgLmNhcmQtZm9vdGVyIHsgcGFkZGluZy10b3A6IDE0cHg7IH0KICAgICAgICAgICAgLmNhcmQtbWV0YSB7IGdhcDogMTJweDsgZm9udC1zaXplOiAxMnB4OyB9CiAgICAgICAgICAgIC5jYXJkLWN0YSB7IGZvbnQtc2l6ZTogMTJweDsgfQogICAgICAgIH0KICAgICAgICAvKiBDYXJkcyDigJQgRGVza3RvcDogMyBjb2x1bW5zICovCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDk2MHB4KSB7CiAgICAgICAgICAgIC5jYXJkcy1ncmlkIHsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgZ2FwOiAyMHB4OyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBOQVYgQlVUVE9OUyDigJQgTW9iaWxlOiBmdWxsLXdpZHRoIHN0YWNrZWQKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAubmF2LXJvdyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW4tcmV2ZXJzZTsgZ2FwOiA4cHg7IG1hcmdpbi10b3A6IDI0cHg7CiAgICAgICAgfQogICAgICAgIC5idG4gewogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7IGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIHZhcigtLXRyYW5zaXRpb24tYmFzZSk7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDZweDsgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIC8qIG1pbiB0b3VjaCB0YXJnZXQgKi8KICAgICAgICAgICAgbWluLWhlaWdodDogNDhweDsKICAgICAgICB9CiAgICAgICAgLmJ0bi1naG9zdCB7IGJhY2tncm91bmQ6IHZhcigtLXNsYXRlLTEwMCk7IGNvbG9yOiB2YXIoLS1zbGF0ZS02MDApOyB9CiAgICAgICAgLmJ0bi1naG9zdDphY3RpdmUgeyBiYWNrZ3JvdW5kOiB2YXIoLS1zbGF0ZS0yMDApOyB9CiAgICAgICAgLmJ0bi1wcmltYXJ5IHsgYmFja2dyb3VuZDogdmFyKC0tc2t5LTUwMCk7IGNvbG9yOiAjZmZmOyBib3gtc2hhZG93OiAwIDJweCA4cHggcmdiYSgxNCwxNjUsMjMzLC4zKTsgfQogICAgICAgIC5idG4tcHJpbWFyeTphY3RpdmUgeyBiYWNrZ3JvdW5kOiAjMDI4NGM3OyB9CiAgICAgICAgLmJ0bi1zdWNjZXNzIHsgYmFja2dyb3VuZDogdmFyKC0tZW1lcmFsZC01MDApOyBjb2xvcjogI2ZmZjsgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMTYsMTg1LDEyOSwuMyk7IH0KICAgICAgICAuYnRuLXN1Y2Nlc3M6YWN0aXZlIHsgYmFja2dyb3VuZDogdmFyKC0tZW1lcmFsZC02MDApOyB9CiAgICAgICAgLmJ0bi1kYXJrIHsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtODAwKTsgY29sb3I6ICNmZmY7IH0KICAgICAgICAuYnRuLWRhcms6YWN0aXZlIHsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtNzAwKTsgfQogICAgICAgIC5idG4tcm93LXJpZ2h0IHsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZ2FwOiA4cHg7IHdpZHRoOiAxMDAlOyB9CgogICAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA2NDBweCkgewogICAgICAgICAgICAubmF2LXJvdyB7IGZsZXgtZGlyZWN0aW9uOiByb3c7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luLXRvcDogMzJweDsgfQogICAgICAgICAgICAuYnRuIHsgd2lkdGg6IGF1dG87IHBhZGRpbmc6IDEwcHggMjBweDsgbWluLWhlaWdodDogdW5zZXQ7IGRpc3BsYXk6IGlubGluZS1mbGV4OyB9CiAgICAgICAgICAgIC5idG4tcHJpbWFyeTpob3ZlciB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMXB4KTsgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDE0LDE2NSwyMzMsLjM1KTsgfQogICAgICAgICAgICAuYnRuLXN1Y2Nlc3M6aG92ZXIgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7IH0KICAgICAgICAgICAgLmJ0bi1naG9zdDpob3ZlciB7IGJhY2tncm91bmQ6IHZhcigtLXNsYXRlLTIwMCk7IH0KICAgICAgICAgICAgLmJ0bi1kYXJrOmhvdmVyIHsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtNzAwKTsgfQogICAgICAgICAgICAuYnRuLXJvdy1yaWdodCB7IGZsZXgtZGlyZWN0aW9uOiByb3c7IHdpZHRoOiBhdXRvOyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBGT1JNIChTdGVwIDYpIOKAlCBNb2JpbGUgYmFzZQogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC5mb3JtLXdyYXBwZXIgeyBtYXJnaW46IDAgYXV0bzsgfQogICAgICAgIC5mb3JtLXN1bW1hcnkgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZWNmZGY1OyBib3JkZXI6IDFweCBzb2xpZCAjYTdmM2QwOyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMtbGcpOwogICAgICAgICAgICBwYWRkaW5nOiAxNHB4IDE2cHg7IG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgICAgfQogICAgICAgIC5mb3JtLXN1bW1hcnkgaDQgeyBmb250LXdlaWdodDogNzAwOyBjb2xvcjogIzA2NWY0NjsgZm9udC1zaXplOiAxM3B4OyBtYXJnaW4tYm90dG9tOiA2cHg7IH0KICAgICAgICAuZm9ybS1zdW1tYXJ5LXJvdyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgcGFkZGluZzogM3B4IDA7IGZvbnQtc2l6ZTogMTJweDsgY29sb3I6ICMwNDc4NTc7CiAgICAgICAgICAgIGdhcDogOHB4OwogICAgICAgIH0KICAgICAgICAuZm9ybS1zdW1tYXJ5LXJvdyBzdHJvbmcgeyBmb250LXdlaWdodDogNjAwOyB0ZXh0LWFsaWduOiByaWdodDsgfQoKICAgICAgICAuZm9ybS1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTsgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWNhcmQpOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0yMDApOwogICAgICAgIH0KICAgICAgICAuZm9ybS1ncm91cCB7IG1hcmdpbi1ib3R0b206IDE2cHg7IH0KICAgICAgICAuZm9ybS1ncm91cDpsYXN0LWNoaWxkIHsgbWFyZ2luLWJvdHRvbTogMDsgfQogICAgICAgIC5mb3JtLWxhYmVsIHsgZGlzcGxheTogYmxvY2s7IGZvbnQtc2l6ZTogMTNweDsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLXNsYXRlLTcwMCk7IG1hcmdpbi1ib3R0b206IDVweDsgfQogICAgICAgIC5mb3JtLWxhYmVsIC5yZXEgeyBjb2xvcjogdmFyKC0tcmVkLTUwMCk7IH0KICAgICAgICAuZm9ybS1pbnB1dCB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOyBwYWRkaW5nOiAxMnB4IDE0cHg7IGZvbnQtc2l6ZTogMTZweDsgLyogMTZweCBwcmV2ZW50cyBpT1Mgem9vbSAqLwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zbGF0ZS01MCk7IGJvcmRlcjogMS41cHggc29saWQgdmFyKC0tc2xhdGUtMjAwKTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsgY29sb3I6IHZhcigtLXNsYXRlLTgwMCk7CiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCB2YXIoLS10cmFuc2l0aW9uLWJhc2UpOyBvdXRsaW5lOiBub25lOwogICAgICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7CiAgICAgICAgfQogICAgICAgIC5mb3JtLWlucHV0OmZvY3VzIHsgYm9yZGVyLWNvbG9yOiB2YXIoLS1za3ktNTAwKTsgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMTQsMTY1LDIzMywuMTIpOyBiYWNrZ3JvdW5kOiAjZmZmOyB9CiAgICAgICAgLmZvcm0taW5wdXQuZXJyb3IgeyBib3JkZXItY29sb3I6IHZhcigtLXJlZC01MDApOyBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyMzksNjgsNjgsLjEpOyB9CiAgICAgICAgLmZvcm0taW5wdXQtaGludCB7IGZvbnQtc2l6ZTogMTFweDsgY29sb3I6IHZhcigtLXJlZC01MDApOyBtYXJnaW4tdG9wOiAzcHg7IGRpc3BsYXk6IG5vbmU7IH0KICAgICAgICAuZm9ybS1pbnB1dC5lcnJvciArIC5mb3JtLWlucHV0LWhpbnQgeyBkaXNwbGF5OiBibG9jazsgfQogICAgICAgIC5mb3JtLXJvdyB7IGRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyOyBnYXA6IDA7IH0gLyogc3RhY2tlZCBvbiBtb2JpbGUgKi8KICAgICAgICBzZWxlY3QuZm9ybS1pbnB1dCB7CiAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzE2JyBoZWlnaHQ9JzE2JyBmaWxsPSclMjM5NGEzYjgnIHZpZXdCb3g9JzAgMCAxNiAxNiclM0UlM0NwYXRoIGQ9J000IDZsNCA0IDQtNCcvJTNFJTNDL3N2ZyUzRSIpOwogICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiByaWdodCAxMnB4IGNlbnRlcjsgcGFkZGluZy1yaWdodDogMzZweDsKICAgICAgICB9CgogICAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA2NDBweCkgewogICAgICAgICAgICAuZm9ybS13cmFwcGVyIHsgbWF4LXdpZHRoOiA1NjBweDsgfQogICAgICAgICAgICAuZm9ybS1jYXJkIHsgcGFkZGluZzogMjhweDsgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLXhsKTsgfQogICAgICAgICAgICAuZm9ybS1zdW1tYXJ5IHsgcGFkZGluZzogMTZweCAyMHB4OyBtYXJnaW4tYm90dG9tOiAyNHB4OyB9CiAgICAgICAgICAgIC5mb3JtLXN1bW1hcnkgaDQgeyBmb250LXNpemU6IDE0cHg7IH0KICAgICAgICAgICAgLmZvcm0tc3VtbWFyeS1yb3cgeyBmb250LXNpemU6IDEzcHg7IH0KICAgICAgICAgICAgLmZvcm0taW5wdXQgeyBwYWRkaW5nOiAxMHB4IDE0cHg7IGZvbnQtc2l6ZTogMTRweDsgfQogICAgICAgICAgICAuZm9ybS1yb3cgeyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7IGdhcDogMTRweDsgfQogICAgICAgIH0KCiAgICAgICAgLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgICAgICAgICAgQ09ORklSTSAoU3RlcCA3KSDigJQgTW9iaWxlIGJhc2UKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAuY29uZmlybS13cmFwcGVyIHsgbWFyZ2luOiAwIGF1dG87IH0KICAgICAgICAuY29uZmlybS1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTsgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWNhcmQpOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OyBtYXJnaW4tYm90dG9tOiAxNnB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0yMDApOwogICAgICAgIH0KICAgICAgICAuY29uZmlybS1zZWN0aW9uLXRpdGxlIHsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogdmFyKC0tc2xhdGUtODAwKTsgbWFyZ2luLWJvdHRvbTogMTBweDsgfQogICAgICAgIC5jb25maXJtLWNvdXJzZS1yb3cgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxMHB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1zbGF0ZS01MCk7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luLWJvdHRvbTogNnB4OwogICAgICAgICAgICBmb250LXNpemU6IDEycHg7IGdhcDogOHB4OwogICAgICAgIH0KICAgICAgICAuY29uZmlybS1jb3Vyc2Utcm93IC50dXJubyB7IGNvbG9yOiB2YXIoLS1zbGF0ZS01MDApOyBmb250LXdlaWdodDogNTAwOyBmbGV4LXNocmluazogMDsgfQogICAgICAgIC5jb25maXJtLWNvdXJzZS1yb3cgLm5hbWUgeyBmb250LXdlaWdodDogNjAwOyBjb2xvcjogdmFyKC0tc2xhdGUtODAwKTsgdGV4dC1hbGlnbjogcmlnaHQ7IH0KICAgICAgICAuY29uZmlybS1kYXRhLXJvdyB7IGZvbnQtc2l6ZTogMTNweDsgcGFkZGluZzogNHB4IDA7IGRpc3BsYXk6IGZsZXg7IGdhcDogOHB4OyB9CiAgICAgICAgLmNvbmZpcm0tZGF0YS1yb3cgLmxhYmVsIHsgY29sb3I6IHZhcigtLXNsYXRlLTUwMCk7IG1pbi13aWR0aDogNzBweDsgZmxleC1zaHJpbms6IDA7IH0KICAgICAgICAuY29uZmlybS1kYXRhLXJvdyAudmFsdWUgeyBjb2xvcjogdmFyKC0tc2xhdGUtODAwKTsgZm9udC13ZWlnaHQ6IDUwMDsgd29yZC1icmVhazogYnJlYWstd29yZDsgfQoKICAgICAgICAudGVybXMtbGFiZWwgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogZmxleC1zdGFydDsgZ2FwOiAxMnB4OyBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNsYXRlLTUwKTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tc2xhdGUtMjAwKTsKICAgICAgICAgICAgcGFkZGluZzogMTRweCAxNnB4OyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMtbGcpOyBtYXJnaW4tYm90dG9tOiAxNnB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgdmFyKC0tdHJhbnNpdGlvbi1iYXNlKTsKICAgICAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICB9CiAgICAgICAgLnRlcm1zLWxhYmVsOmFjdGl2ZSB7IGJvcmRlci1jb2xvcjogdmFyKC0tc2xhdGUtMzAwKTsgYmFja2dyb3VuZDogdmFyKC0tc2xhdGUtMTAwKTsgfQogICAgICAgIC50ZXJtcy1sYWJlbCBpbnB1dCB7IHdpZHRoOiAyMnB4OyBoZWlnaHQ6IDIycHg7IG1hcmdpbi10b3A6IDFweDsgYWNjZW50LWNvbG9yOiB2YXIoLS1lbWVyYWxkLTUwMCk7IGZsZXgtc2hyaW5rOiAwOyB9CiAgICAgICAgLnRlcm1zLWxhYmVsIHNwYW4geyBmb250LXNpemU6IDEyLjVweDsgY29sb3I6IHZhcigtLXNsYXRlLTYwMCk7IGxpbmUtaGVpZ2h0OiAxLjU7IH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDY0MHB4KSB7CiAgICAgICAgICAgIC5jb25maXJtLXdyYXBwZXIgeyBtYXgtd2lkdGg6IDU2MHB4OyB9CiAgICAgICAgICAgIC5jb25maXJtLWNhcmQgeyBwYWRkaW5nOiAyOHB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMteGwpOyB9CiAgICAgICAgICAgIC5jb25maXJtLXNlY3Rpb24tdGl0bGUgeyBmb250LXNpemU6IDE1cHg7IG1hcmdpbi1ib3R0b206IDEycHg7IH0KICAgICAgICAgICAgLmNvbmZpcm0tY291cnNlLXJvdyB7IGZvbnQtc2l6ZTogMTNweDsgcGFkZGluZzogOHB4IDEycHg7IH0KICAgICAgICAgICAgLmNvbmZpcm0tZGF0YS1yb3cgLmxhYmVsIHsgbWluLXdpZHRoOiA4MHB4OyB9CiAgICAgICAgICAgIC50ZXJtcy1sYWJlbDpob3ZlciB7IGJvcmRlci1jb2xvcjogdmFyKC0tc2xhdGUtMzAwKTsgfQogICAgICAgICAgICAudGVybXMtbGFiZWwgaW5wdXQgeyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyB9CiAgICAgICAgICAgIC50ZXJtcy1sYWJlbCBzcGFuIHsgZm9udC1zaXplOiAxM3B4OyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBTVUNDRVNTIOKAlCBNb2JpbGUgYmFzZQogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC5zdWNjZXNzLXdyYXBwZXIgeyBtYXJnaW46IDAgYXV0bzsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiAyNHB4IDA7IH0KICAgICAgICAuc3VjY2Vzcy1pY29uIHsKICAgICAgICAgICAgd2lkdGg6IDY4cHg7IGhlaWdodDogNjhweDsgYm9yZGVyLXJhZGl1czogNTAlOyBtYXJnaW46IDAgYXV0byAxNnB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZDFmYWU1LCAjYTdmM2QwKTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGZvbnQtc2l6ZTogMzBweDsKICAgICAgICAgICAgYW5pbWF0aW9uOiBwb3AtaW4gLjVzIGN1YmljLWJlemllciguMzQsMS41NiwuNjQsMSk7CiAgICAgICAgfQogICAgICAgIEBrZXlmcmFtZXMgcG9wLWluIHsgZnJvbSB7IHRyYW5zZm9ybTogc2NhbGUoMCk7IH0gdG8geyB0cmFuc2Zvcm06IHNjYWxlKDEpOyB9IH0KICAgICAgICAuc3VjY2Vzcy10aXRsZSB7IGZvbnQtZmFtaWx5OiB2YXIoLS1mb250LWRpc3BsYXkpOyBmb250LXNpemU6IDIycHg7IGNvbG9yOiB2YXIoLS1zbGF0ZS04MDApOyBtYXJnaW4tYm90dG9tOiA2cHg7IH0KICAgICAgICAuc3VjY2Vzcy1zdWIgeyBjb2xvcjogdmFyKC0tc2xhdGUtNTAwKTsgZm9udC1zaXplOiAxNHB4OyBtYXJnaW4tYm90dG9tOiAyNHB4OyB9CiAgICAgICAgLnN1Y2Nlc3MtYm94IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZjsgYm9yZGVyLXJhZGl1czogdmFyKC0tcmFkaXVzLWxnKTsgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LWNhcmQpOwogICAgICAgICAgICBwYWRkaW5nOiAyMHB4OyB0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW4tYm90dG9tOiAxMnB4OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zbGF0ZS0yMDApOwogICAgICAgIH0KICAgICAgICAuc3VjY2Vzcy1ib3ggaDQgeyBmb250LXdlaWdodDogNzAwOyBmb250LXNpemU6IDEzcHg7IGNvbG9yOiB2YXIoLS1zbGF0ZS04MDApOyBtYXJnaW4tYm90dG9tOiAxMHB4OyB9CiAgICAgICAgLnN1Y2Nlc3Mtc3RlcHMgeyBmb250LXNpemU6IDEyLjVweDsgY29sb3I6IHZhcigtLXNsYXRlLTYwMCk7IH0KICAgICAgICAuc3VjY2Vzcy1zdGVwcyBsaSB7IHBhZGRpbmc6IDNweCAwOyBsaXN0LXN0eWxlOiBub25lOyB9CiAgICAgICAgLnN1Y2Nlc3Mtc3RlcHMgbGk6OmJlZm9yZSB7IGNvbnRlbnQ6ICfihpIgJzsgY29sb3I6IHZhcigtLWVtZXJhbGQtNTAwKTsgZm9udC13ZWlnaHQ6IDcwMDsgfQoKICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHsKICAgICAgICAgICAgLnN1Y2Nlc3Mtd3JhcHBlciB7IG1heC13aWR0aDogNTQwcHg7IHBhZGRpbmc6IDMycHggMDsgfQogICAgICAgICAgICAuc3VjY2Vzcy1pY29uIHsgd2lkdGg6IDgwcHg7IGhlaWdodDogODBweDsgZm9udC1zaXplOiAzNnB4OyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9CiAgICAgICAgICAgIC5zdWNjZXNzLXRpdGxlIHsgZm9udC1zaXplOiAyOHB4OyBtYXJnaW4tYm90dG9tOiA4cHg7IH0KICAgICAgICAgICAgLnN1Y2Nlc3Mtc3ViIHsgZm9udC1zaXplOiAxNXB4OyBtYXJnaW4tYm90dG9tOiAyOHB4OyB9CiAgICAgICAgICAgIC5zdWNjZXNzLWJveCB7IHBhZGRpbmc6IDI0cHg7IG1hcmdpbi1ib3R0b206IDE2cHg7IGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy14bCk7IH0KICAgICAgICAgICAgLnN1Y2Nlc3MtYm94IGg0IHsgZm9udC1zaXplOiAxNHB4OyB9CiAgICAgICAgICAgIC5zdWNjZXNzLXN0ZXBzIHsgZm9udC1zaXplOiAxM3B4OyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBDT05GRVRUSQogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC5jb25mZXR0aSB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsgd2lkdGg6IDhweDsgaGVpZ2h0OiA4cHg7IHRvcDogLTEycHg7CiAgICAgICAgICAgIGFuaW1hdGlvbjogY29uZmV0dGktZmFsbCAzLjVzIGN1YmljLWJlemllciguMjUsLjQ2LC40NSwuOTQpIGZvcndhcmRzOwogICAgICAgICAgICB6LWluZGV4OiA5OTk5OyBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBjb25mZXR0aS1mYWxsIHsKICAgICAgICAgICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgcm90YXRlKDBkZWcpIHNjYWxlKDEpOyBvcGFjaXR5OiAxOyB9CiAgICAgICAgICAgIDgwJSB7IG9wYWNpdHk6IDE7IH0KICAgICAgICAgICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDV2aCkgcm90YXRlKDcyMGRlZykgc2NhbGUoLjYpOyBvcGFjaXR5OiAwOyB9CiAgICAgICAgfQoKICAgICAgICAvKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgICAgICAgICBUT0FTVCDigJQgTW9iaWxlIGJhc2UgKHdpZGVyLCBjZW50ZXJlZCkKICAgICAgICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KICAgICAgICAudG9hc3QgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7IHRvcDogNjRweDsgbGVmdDogMTJweDsgcmlnaHQ6IDEycHg7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTZweCk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNsYXRlLTgwMCk7IGNvbG9yOiAjZmZmOyBwYWRkaW5nOiAxMnB4IDE2cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtc2l6ZTogMTNweDsgZm9udC13ZWlnaHQ6IDUwMDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA4cHggMjRweCByZ2JhKDAsMCwwLC4yKTsgei1pbmRleDogMjAwOwogICAgICAgICAgICBvcGFjaXR5OiAwOyB0cmFuc2l0aW9uOiBhbGwgLjNzIGVhc2U7IHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIC50b2FzdC5zaG93IHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9CiAgICAgICAgLnRvYXN0Lndhcm4geyBiYWNrZ3JvdW5kOiAjYjQ1MzA5OyB9CiAgICAgICAgLnRvYXN0LmVycm9yIHsgYmFja2dyb3VuZDogI2RjMjYyNjsgfQoKICAgICAgICBAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHsKICAgICAgICAgICAgLnRvYXN0IHsKICAgICAgICAgICAgICAgIGxlZnQ6IDUwJTsgcmlnaHQ6IGF1dG87IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC0yMHB4KTsKICAgICAgICAgICAgICAgIHdpZHRoOiBhdXRvOyBtYXgtd2lkdGg6IDQwMHB4OyBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnRvYXN0LnNob3cgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgwKTsgfQogICAgICAgIH0KCiAgICAgICAgLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgICAgICAgICAgQ09MT1IgVEhFTUVTIEZPUiBDQVJEUwogICAgICAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwogICAgICAgIC50aGVtZS1za3kgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMDI4NGM3LCAjMGVhNWU5KTsgfQogICAgICAgIC50aGVtZS1lbWVyYWxkIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzA1OTY2OSwgIzEwYjk4MSk7IH0KICAgICAgICAudGhlbWUtdmlvbGV0IHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzdjM2FlZCwgIzhiNWNmNik7IH0KICAgICAgICAudGhlbWUtYW1iZXIgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZDk3NzA2LCAjZjU5ZTBiKTsgfQogICAgICAgIC50aGVtZS1waW5rIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2RiMjc3NywgI2VjNDg5OSk7IH0KICAgICAgICAudGhlbWUtY3lhbiB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMwODkxYjIsICMwNmI2ZDQpOyB9CiAgICAgICAgLnRoZW1lLXJvc2UgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZTExZDQ4LCAjZjQzZjVlKTsgfQogICAgICAgIC50aGVtZS1pbmRpZ28geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjNDMzOGNhLCAjNjM2NmYxKTsgfQogICAgICAgIC50aGVtZS10ZWFsIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzBkOTQ4OCwgIzE0YjhhNik7IH0KICAgICAgICAudGhlbWUtb3JhbmdlIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI2VhNTgwYywgI2Y5NzMxNik7IH0KICAgICAgICAudGhlbWUtbGltZSB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM2NWEzMGQsICM4NGNjMTYpOyB9CiAgICAgICAgLnRoZW1lLWZ1Y2hzaWEgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjYzAyNmQzLCAjZDk0NmVmKTsgfQogICAgICAgIC50aGVtZS1ibHVlIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzI1NjNlYiwgIzNiODJmNik7IH0KICAgICAgICAudGhlbWUtZ3JlZW4geyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjMTZhMzRhLCAjMjJjNTVlKTsgfQogICAgICAgIC50aGVtZS1wdXJwbGUgeyBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjOTMzM2VhLCAjYTg1NWY3KTsgfQ==";
var SITE_JS_B64 = "Lyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIFNUQVRFCuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpsZXQgY3VycmVudFN0ZXAgPSAxOwpjb25zdCBzZWxlY3Rpb25zID0geyAxOiBudWxsLCAyOiBudWxsLCAzOiBudWxsLCA0OiBudWxsLCA1OiBudWxsIH07CmNvbnN0IFNURVBTID0gWwogICAgeyBpZDogMSwgbGFiZWw6ICdUMScgfSwgeyBpZDogMiwgbGFiZWw6ICdUMicgfSwgeyBpZDogMywgbGFiZWw6ICdUMycgfSwKICAgIHsgaWQ6IDQsIGxhYmVsOiAnVDQnIH0sIHsgaWQ6IDUsIGxhYmVsOiAnVDUnIH0sCiAgICB7IGlkOiA2LCBsYWJlbDogJ/CfkaQnIH0sIHsgaWQ6IDcsIGxhYmVsOiAn4pyTJyB9Cl07CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgVE9BU1QK4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmxldCB0b2FzdFRpbWVyID0gbnVsbDsKZnVuY3Rpb24gc2hvd1RvYXN0KG1zZywgdHlwZSA9ICcnKSB7CiAgICBjb25zdCB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvYXN0Jyk7CiAgICB0LnRleHRDb250ZW50ID0gbXNnOwogICAgdC5jbGFzc05hbWUgPSAndG9hc3Qgc2hvdyAnICsgdHlwZTsKICAgIGNsZWFyVGltZW91dCh0b2FzdFRpbWVyKTsKICAgIHRvYXN0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHQuY2xhc3NOYW1lID0gJ3RvYXN0JywgMjUwMCk7Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBCVUlMRCBQUk9HUkVTUyBCQVIK4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0aW9uIGJ1aWxkUHJvZ3Jlc3MoKSB7CiAgICBjb25zdCBjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2dyZXNzSW5uZXInKTsKICAgIGNvbnN0IGxhYmVscyA9IFsnU2VnIEFNJywgJ1NlZyBQTScsICdUZXIgQU0nLCAnVGVyIFBNJywgJ1F1YSBBTScsICdEYWRvcycsICdDb25maXJtYXInXTsKICAgIGxldCBodG1sID0gJyc7CiAgICBTVEVQUy5mb3JFYWNoKChzLCBpKSA9PiB7CiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz0icHJvZy1zdGVwICR7aSA9PT0gMCA/ICdhY3RpdmUnIDogJyd9IiBkYXRhLXN0ZXA9IiR7cy5pZH0iIG9uY2xpY2s9ImdvVG9TdGVwKCR7cy5pZH0pIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icHJvZy1jaXJjbGUiIGlkPSJwYy0ke3MuaWR9Ij4ke3MubGFiZWx9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2ctbGFiZWwiPiR7bGFiZWxzW2ldfTwvZGl2PgogICAgICAgIDwvZGl2PmA7CiAgICAgICAgaWYgKGkgPCBTVEVQUy5sZW5ndGggLSAxKSBodG1sICs9IGA8ZGl2IGNsYXNzPSJwcm9nLWxpbmUiIGlkPSJwbC0ke3MuaWR9Ij48L2Rpdj5gOwogICAgfSk7CiAgICBjLmlubmVySFRNTCA9IGh0bWw7Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBCVUlMRCBDT1VSU0UgUEFORUxTCuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpmdW5jdGlvbiBidWlsZFBhbmVscygpIHsKICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYW5lbHNDb250YWluZXInKTsKICAgIGxldCBodG1sID0gJyc7CgogICAgLy8gVHVybm8gcGFuZWxzICgxLTUpCiAgICBUVVJOT1MuZm9yRWFjaCh0dXJubyA9PiB7CiAgICAgICAgY29uc3QgaXNMYXN0ID0gdHVybm8uaWQgPT09IDU7CiAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz0ic3RlcC1wYW5lbCAke3R1cm5vLmlkID09PSAxID8gJ2FjdGl2ZScgOiAnJ30iIGlkPSJzdGVwLSR7dHVybm8uaWR9Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idHVybm8taGVhZGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InR1cm5vLWJhZGdlIiBzdHlsZT0iYmFja2dyb3VuZDoke3R1cm5vLmJhZGdlQmd9O2NvbG9yOiR7dHVybm8uYmFkZ2VDb2xvcn0iPiR7dHVybm8uYmFkZ2V9PC9kaXY+CiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InR1cm5vLXRpdGxlIj4ke3R1cm5vLmxhYmVsfSR7aXNMYXN0ID8gJyAow5psdGltbyknIDogJyd9PC9oMj4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJ0dXJuby1zdWIiPkVzY29saGEgdW0gY3Vyc28gb3UgcHVsZSBwYXJhIG8gcHLDs3hpbW8gdHVybm88L3A+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkcy1ncmlkIj4KICAgICAgICAgICAgICAgICR7dHVybm8uY291cnNlcy5tYXAoYyA9PiBidWlsZENhcmQodHVybm8uaWQsIGMpKS5qb2luKCcnKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdi1yb3ciPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLXJvdy1yaWdodCI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuICR7aXNMYXN0ID8gJ2J0bi1zdWNjZXNzJyA6ICdidG4tcHJpbWFyeSd9IiBvbmNsaWNrPSJnb1RvU3RlcCgke2lzTGFzdCA/IDYgOiB0dXJuby5pZCArIDF9KSI+JHtpc0xhc3QgPyAnUHJlZW5jaGVyIERhZG9zIOKGkicgOiAnUHLDs3hpbW8g4oaSJ308L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAkeyFpc0xhc3QgPyBgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1naG9zdCIgb25jbGljaz0iZ29Ub1N0ZXAoJHt0dXJuby5pZCArIDF9KSI+UHVsYXIgVHVybm8g4oaSPC9idXR0b24+YCA6ICcnfQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAke3R1cm5vLmlkID4gMSA/IGA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWdob3N0IiBvbmNsaWNrPSJnb1RvU3RlcCgke3R1cm5vLmlkIC0gMX0pIj7ihpAgVm9sdGFyPC9idXR0b24+YCA6ICcnfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj5gOwogICAgfSk7CgogICAgLy8gU3RlcCA2IOKAlCBGb3JtCiAgICBodG1sICs9IGJ1aWxkRm9ybVBhbmVsKCk7CiAgICAvLyBTdGVwIDcg4oCUIENvbmZpcm0KICAgIGh0bWwgKz0gYnVpbGRDb25maXJtUGFuZWwoKTsKICAgIC8vIFN1Y2Nlc3MKICAgIGh0bWwgKz0gYnVpbGRTdWNjZXNzUGFuZWwoKTsKCiAgICBjb250YWluZXIuaW5uZXJIVE1MID0gaHRtbDsKfQoKZnVuY3Rpb24gYnVpbGRDYXJkKHR1cm5vSWQsIGMpIHsKICAgIHJldHVybiBgPGRpdiBjbGFzcz0iY291cnNlLWNhcmQiIGRhdGEtY291cnNlLWlkPSIke2MuaWR9IiBvbmNsaWNrPSJ0b2dnbGVDb3Vyc2UoJHt0dXJub0lkfSwnJHtjLmlkfScsJyR7Yy5uYW1lLnJlcGxhY2UoLycvZywiXFwnIil9JywnJHtjLmluc3RydWN0b3IucmVwbGFjZSgvJy9nLCJcXCciKX0nLCcke2MuZHVyYWNhb30nKSI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1oZWFkICR7Yy50aGVtZX0iPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWNoZWNrIj48c3ZnIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIzIiBkPSJNNSAxM2w0IDRMMTkgNyIvPjwvc3ZnPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLXRhZyI+JHtjLnRhZ308L2Rpdj4KICAgICAgICAgICAgPGgzPiR7Yy50aXRsZX08L2gzPgogICAgICAgICAgICA8cD4ke2Muc3VidGl0bGV9PC9wPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Imluc3RydWN0b3IiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5zdHJ1Y3Rvci1hdmF0YXIgJHtjLmluc3RyVGhlbWV9Ij4ke2MuaW5zdHJJbml0aWFsc308L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5zdHJ1Y3Rvci1uYW1lIj4ke2MuaW5zdHJ1Y3Rvcn08L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnN0cnVjdG9yLXJvbGUiPiR7Yy5pbnN0clJvbGV9PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtc2VjdGlvbi10aXRsZSI+8J+TliBTb2JyZSBvIEN1cnNvPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtZGVzYyI+JHtjLmRlc2N9PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtc2VjdGlvbi10aXRsZSI+8J+RpSBQw7pibGljbyBBbHZvPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtZGVzYyI+JHtjLnB1YmxpY299PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtZm9vdGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtbWV0YSI+PHNwYW4+4o+xICR7Yy5kdXJhY2FvfTwvc3Bhbj48c3Bhbj7wn5GlICR7Yy52YWdhc30gdmFnYXM8L3NwYW4+PC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWN0YSIgc3R5bGU9ImNvbG9yOiR7Yy5jdGFDb2xvcn0iPlNlbGVjaW9uYXI8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj5gOwp9CgpmdW5jdGlvbiBidWlsZEZvcm1QYW5lbCgpIHsKICAgIGNvbnN0IG11bk9wdGlvbnMgPSBNVU5JQ0lQSU9TX1BBLm1hcChtID0+IGA8b3B0aW9uIHZhbHVlPSIke219Ij4ke219PC9vcHRpb24+YCkuam9pbignJyk7CiAgICByZXR1cm4gYDxkaXYgY2xhc3M9InN0ZXAtcGFuZWwiIGlkPSJzdGVwLTYiPgogICAgICAgIDxkaXYgY2xhc3M9ImZvcm0td3JhcHBlciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InR1cm5vLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSJ3aWR0aDo1NnB4O2hlaWdodDo1NnB4O2JhY2tncm91bmQ6dmFyKC0tc2xhdGUtMTAwKTtib3JkZXItcmFkaXVzOjE2cHg7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbjowIGF1dG8gMTJweDtmb250LXNpemU6MjRweCI+8J+RpDwvZGl2PgogICAgICAgICAgICAgICAgPGgyIGNsYXNzPSJ0dXJuby10aXRsZSI+U2V1cyBEYWRvczwvaDI+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLXN1bW1hcnkiIGlkPSJmb3JtU3VtbWFyeSI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2FyZCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPk5vbWUgQ29tcGxldG8gPHNwYW4gY2xhc3M9InJlcSI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZi1ub21lIiBjbGFzcz0iZm9ybS1pbnB1dCIgcGxhY2Vob2xkZXI9IlNldSBub21lIGNvbXBsZXRvIiBhdXRvY29tcGxldGU9Im5hbWUiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0taW5wdXQtaGludCI+SW5mb3JtZSBzZXUgbm9tZSBjb21wbGV0bzwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPkUtbWFpbCA8c3BhbiBjbGFzcz0icmVxIj4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBpZD0iZi1lbWFpbCIgY2xhc3M9ImZvcm0taW5wdXQiIHBsYWNlaG9sZGVyPSJzZXVAZW1haWwuY29tIiBhdXRvY29tcGxldGU9ImVtYWlsIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWlucHV0LWhpbnQiPkluZm9ybWUgdW0gZS1tYWlsIHbDoWxpZG88L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1yb3ciPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPkNQRiA8c3BhbiBjbGFzcz0icmVxIj4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZi1jcGYiIGNsYXNzPSJmb3JtLWlucHV0IiBwbGFjZWhvbGRlcj0iMDAwLjAwMC4wMDAtMDAiIG1heGxlbmd0aD0iMTQiIGlucHV0bW9kZT0ibnVtZXJpYyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0taW5wdXQtaGludCI+Q1BGIGludsOhbGlkbzwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPlRlbGVmb25lIDxzcGFuIGNsYXNzPSJyZXEiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRlbCIgaWQ9ImYtdGVsIiBjbGFzcz0iZm9ybS1pbnB1dCIgcGxhY2Vob2xkZXI9IigwMCkgMDAwMDAtMDAwMCIgbWF4bGVuZ3RoPSIxNSIgaW5wdXRtb2RlPSJudW1lcmljIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1pbnB1dC1oaW50Ij5JbmZvcm1lIHNldSB0ZWxlZm9uZTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImZvcm0tbGFiZWwiPk11bmljw61waW8gPHNwYW4gY2xhc3M9InJlcSI+Kjwvc3Bhbj48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImYtbXVuIiBjbGFzcz0iZm9ybS1pbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+U2VsZWNpb25lIHNldSBtdW5pY8OtcGlvLi4uPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgICR7bXVuT3B0aW9uc30KICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWlucHV0LWhpbnQiPlNlbGVjaW9uZSBvIG11bmljw61waW88L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWxhYmVsIj7Dk3Jnw6NvIDxzcGFuIGNsYXNzPSJyZXEiPio8L3NwYW4+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGlkPSJmLW9yZ2FvIiBjbGFzcz0iZm9ybS1pbnB1dCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IiI+U2VsZWNpb25lLi4uPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+UHJlZmVpdHVyYSBNdW5pY2lwYWw8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj5Dw6JtYXJhIE11bmljaXBhbDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPkF1dGFycXVpYTwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPkZ1bmRhw6fDo288L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbj5FbXByZXNhIFDDumJsaWNhPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+U29jaWVkYWRlIGRlIEVjb25vbWlhIE1pc3RhPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24+Q29uc8OzcmNpbyBQw7pibGljbzwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uPk91dHJvPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1pbnB1dC1oaW50Ij5TZWxlY2lvbmUgbyDDs3Jnw6NvPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iZm9ybS1sYWJlbCI+Q2FyZ28gLyBGdW7Dp8OjbyA8c3BhbiBjbGFzcz0icmVxIj4qPC9zcGFuPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJmLWNhcmdvIiBjbGFzcz0iZm9ybS1pbnB1dCIgcGxhY2Vob2xkZXI9IkV4OiBDb250YWRvciwgQ29udHJvbGFkb3IgSW50ZXJuby4uLiIgYXV0b2NvbXBsZXRlPSJvcmdhbml6YXRpb24tdGl0bGUiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0taW5wdXQtaGludCI+SW5mb3JtZSBzZXUgY2FyZ288L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2LXJvdyIgc3R5bGU9Im1hcmdpbi10b3A6MjRweCI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLWdob3N0IiBvbmNsaWNrPSJnb1RvU3RlcCg1KSI+4oaQIFZvbHRhcjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IiBvbmNsaWNrPSJnb1RvU3RlcCg3KSI+UmV2aXNhciBJbnNjcmnDp8OjbyDihpI8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj5gOwp9CgpmdW5jdGlvbiBidWlsZENvbmZpcm1QYW5lbCgpIHsKICAgIHJldHVybiBgPGRpdiBjbGFzcz0ic3RlcC1wYW5lbCIgaWQ9InN0ZXAtNyI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS13cmFwcGVyIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0idHVybm8taGVhZGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9IndpZHRoOjU2cHg7aGVpZ2h0OjU2cHg7YmFja2dyb3VuZDojZmVmM2M3O2JvcmRlci1yYWRpdXM6MTZweDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luOjAgYXV0byAxMnB4O2ZvbnQtc2l6ZToyNHB4Ij7wn5OLPC9kaXY+CiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9InR1cm5vLXRpdGxlIj5Db25maXJtYXIgSW5zY3Jpw6fDo288L2gyPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1jYXJkIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbmZpcm0tc2VjdGlvbi10aXRsZSI+8J+TmiBTZXVzIEN1cnNvczwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBpZD0iY29uZmlybUNvdXJzZXMiPjwvZGl2PgogICAgICAgICAgICAgICAgPGhyIHN0eWxlPSJib3JkZXI6bm9uZTtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1zbGF0ZS0xMDApO21hcmdpbjoxNnB4IDAiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29uZmlybS1zZWN0aW9uLXRpdGxlIj7wn5GkIFNldXMgRGFkb3M8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9ImNvbmZpcm1EYXRhIj48L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0idGVybXMtbGFiZWwiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iZi10ZXJtb3MiPgogICAgICAgICAgICAgICAgPHNwYW4+RGVjbGFybyBxdWUgYXMgaW5mb3JtYcOnw7VlcyBwcmVzdGFkYXMgc8OjbyB2ZXJkYWRlaXJhcyBlIG1lIGNvbXByb21ldG8gYSBwYXJ0aWNpcGFyIGRvcyBjdXJzb3Mgc2VsZWNpb25hZG9zLCBjaWVudGUgZGUgcXVlIGEgYXVzw6puY2lhIHNlbSBqdXN0aWZpY2F0aXZhIHBvZGVyw6EgaW1wYWN0YXIgZnV0dXJhcyBpbnNjcmnDp8O1ZXMuPC9zcGFuPgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJuYXYtcm93Ij4KICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0biBidG4tZ2hvc3QiIG9uY2xpY2s9ImdvVG9TdGVwKDYpIj7ihpAgVm9sdGFyPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiIG9uY2xpY2s9ImZpbmFsaXphcigpIiBzdHlsZT0iZm9udC1zaXplOjE1cHg7cGFkZGluZzoxMnB4IDI4cHgiPvCfjokgQ29uZmlybWFyIEluc2NyacOnw6NvPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+YDsKfQoKZnVuY3Rpb24gYnVpbGRTdWNjZXNzUGFuZWwoKSB7CiAgICByZXR1cm4gYDxkaXYgY2xhc3M9InN0ZXAtcGFuZWwiIGlkPSJzdGVwLXN1Y2Nlc3MiPgogICAgICAgIDxkaXYgY2xhc3M9InN1Y2Nlc3Mtd3JhcHBlciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1Y2Nlc3MtaWNvbiI+8J+OiTwvZGl2PgogICAgICAgICAgICA8aDIgY2xhc3M9InN1Y2Nlc3MtdGl0bGUiPkluc2NyacOnw6NvIENvbmZpcm1hZGEhPC9oMj4KICAgICAgICAgICAgPHAgY2xhc3M9InN1Y2Nlc3Mtc3ViIj5FbnZpYW1vcyBvcyBkZXRhbGhlcyBwYXJhIG8gc2V1IGUtbWFpbC48L3A+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1Y2Nlc3MtYm94Ij4KICAgICAgICAgICAgICAgIDxoND7wn5OMIFByw7N4aW1vcyBQYXNzb3M8L2g0PgogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJzdWNjZXNzLXN0ZXBzIj4KICAgICAgICAgICAgICAgICAgICA8bGk+VmVyaWZpcXVlIHNldSBlLW1haWwgKGluY2x1c2l2ZSBzcGFtKTwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPkFkaWNpb25lIGFzIGRhdGFzIMOgIHN1YSBhZ2VuZGE8L2xpPgogICAgICAgICAgICAgICAgICAgIDxsaT5PIGxpbmsgZGUgYWNlc3NvIHNlcsOhIGVudmlhZG8gMSBkaWEgYW50ZXM8L2xpPgogICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN1Y2Nlc3MtYm94Ij4KICAgICAgICAgICAgICAgIDxoND7wn5OaIEN1cnNvcyBTZWxlY2lvbmFkb3M8L2g0PgogICAgICAgICAgICAgICAgPGRpdiBpZD0ic3VjY2Vzc0NvdXJzZXMiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuIGJ0bi1kYXJrIiBvbmNsaWNrPSJsb2NhdGlvbi5yZWxvYWQoKSIgc3R5bGU9Im1hcmdpbi10b3A6MjBweCI+Tm92YSBJbnNjcmnDp8OjbzwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+YDsKfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIE5BVklHQVRJT04K4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0aW9uIGdvVG9TdGVwKHN0ZXApIHsKICAgIC8vIFZhbGlkYcOnw6NvIFN0ZXAgNiDihpIgcHJlY2lzYSBkZSBwZWxvIG1lbm9zIDEgY3Vyc28KICAgIGlmIChzdGVwID09PSA2ICYmIGdldENvdW50KCkgPT09IDApIHsKICAgICAgICBzaG93VG9hc3QoJ+KaoO+4jyBTZWxlY2lvbmUgcGVsbyBtZW5vcyAxIGN1cnNvIGFudGVzIGRlIGNvbnRpbnVhciEnLCAnd2FybicpOwogICAgICAgIHJldHVybjsKICAgIH0KCiAgICAvLyBBbyBlbnRyYXIgbm8gZm9ybSwgcHJlZW5jaGUgcmVzdW1vCiAgICBpZiAoc3RlcCA9PT0gNikgZmlsbEZvcm1TdW1tYXJ5KCk7CgogICAgLy8gVmFsaWRhw6fDo28gU3RlcCA3IOKGkiBjYW1wb3Mgb2JyaWdhdMOzcmlvcwogICAgaWYgKHN0ZXAgPT09IDcpIHsKICAgICAgICBpZiAoZ2V0Q291bnQoKSA9PT0gMCkgeyBzaG93VG9hc3QoJ+KaoO+4jyBTZWxlY2lvbmUgcGVsbyBtZW5vcyAxIGN1cnNvIScsICd3YXJuJyk7IHJldHVybjsgfQogICAgICAgIGlmICghdmFsaWRhdGVGb3JtKCkpIHJldHVybjsKICAgICAgICBmaWxsQ29uZmlybWF0aW9uKCk7CiAgICB9CgogICAgY3VycmVudFN0ZXAgPSBzdGVwOwogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXAtcGFuZWwnKS5mb3JFYWNoKHAgPT4gcC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7CiAgICBjb25zdCBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0ZXAgPT09ICdzdWNjZXNzJyA/ICdzdGVwLXN1Y2Nlc3MnIDogYHN0ZXAtJHtzdGVwfWApOwogICAgaWYgKHBhbmVsKSBwYW5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTsKCiAgICB1cGRhdGVQcm9ncmVzcyhzdGVwKTsKICAgIGlmIChzdGVwID49IDEgJiYgc3RlcCA8PSA1KSByZXN0b3JlU2VsZWN0aW9uKHN0ZXApOwoKICAgIC8vIEhpZGUgY291bnRlciBvbiBmb3JtL2NvbmZpcm0vc3VjY2VzcwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb2F0Q291bnRlcicpLnN0eWxlLmRpc3BsYXkgPSAoc3RlcCA+PSA2IHx8IHN0ZXAgPT09ICdzdWNjZXNzJykgPyAnbm9uZScgOiAnJzsKCiAgICB3aW5kb3cuc2Nyb2xsVG8oeyB0b3A6IDAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTsKfQoKZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3Moc3RlcCkgewogICAgU1RFUFMuZm9yRWFjaCgocywgaSkgPT4gewogICAgICAgIGNvbnN0IGNpcmNsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwYy0ke3MuaWR9YCk7CiAgICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwbC0ke3MuaWR9YCk7CiAgICAgICAgY29uc3QgcGFyZW50ID0gY2lyY2xlLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgcGFyZW50LmNsYXNzTmFtZSA9ICdwcm9nLXN0ZXAnOwogICAgICAgIHBhcmVudC5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCBgZ29Ub1N0ZXAoJHtzLmlkfSlgKTsKCiAgICAgICAgaWYgKHMuaWQgPT0gc3RlcCkgewogICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7CiAgICAgICAgfSBlbHNlIGlmIChzLmlkIDwgc3RlcCkgewogICAgICAgICAgICBpZiAocy5pZCA8PSA1ICYmICFzZWxlY3Rpb25zW3MuaWRdKSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnc2tpcHBlZCcpOwogICAgICAgICAgICAgICAgY2lyY2xlLnRleHRDb250ZW50ID0gJ+KIkic7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkJyk7CiAgICAgICAgICAgICAgICBpZiAocy5pZCA8PSA1KSBjaXJjbGUudGV4dENvbnRlbnQgPSAn4pyTJzsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChzLmlkIDw9IDUpIGNpcmNsZS50ZXh0Q29udGVudCA9IFNURVBTW2ldLmxhYmVsOwogICAgICAgIH0KCiAgICAgICAgaWYgKGxpbmUpIGxpbmUuY2xhc3NOYW1lID0gJ3Byb2ctbGluZScgKyAocy5pZCA8IHN0ZXAgPyAnIGRvbmUnIDogJycpOwogICAgfSk7Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBDT1VSU0UgU0VMRUNUSU9OCuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpmdW5jdGlvbiB0b2dnbGVDb3Vyc2UodHVybm9JZCwgY291cnNlSWQsIG5hbWUsIGluc3RydWN0b3IsIGR1cmFjYW8pIHsKICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN0ZXAtJHt0dXJub0lkfWApOwogICAgY29uc3QgY2FyZHMgPSBwYW5lbC5xdWVyeVNlbGVjdG9yQWxsKCcuY291cnNlLWNhcmQnKTsKICAgIGNvbnN0IGNsaWNrZWRDYXJkID0gcGFuZWwucXVlcnlTZWxlY3RvcihgW2RhdGEtY291cnNlLWlkPSIke2NvdXJzZUlkfSJdYCk7CiAgICBjb25zdCB3YXNTZWxlY3RlZCA9IGNsaWNrZWRDYXJkLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKTsKCiAgICBjYXJkcy5mb3JFYWNoKGMgPT4gYy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTsKCiAgICBpZiAod2FzU2VsZWN0ZWQpIHsKICAgICAgICBzZWxlY3Rpb25zW3R1cm5vSWRdID0gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgICAgY2xpY2tlZENhcmQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICBzZWxlY3Rpb25zW3R1cm5vSWRdID0geyBjdXJzbzogbmFtZSwgaW5zdHJ1dG9yOiBpbnN0cnVjdG9yLCBkdXJhY2FvLCBjb3Vyc2VJZCB9OwogICAgfQogICAgdXBkYXRlQ291bnRlcigpOwp9CgpmdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHR1cm5vSWQpIHsKICAgIGNvbnN0IHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHN0ZXAtJHt0dXJub0lkfWApOwogICAgaWYgKCFwYW5lbCkgcmV0dXJuOwogICAgcGFuZWwucXVlcnlTZWxlY3RvckFsbCgnLmNvdXJzZS1jYXJkJykuZm9yRWFjaChjID0+IHsKICAgICAgICBjLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7CiAgICAgICAgaWYgKHNlbGVjdGlvbnNbdHVybm9JZF0gJiYgYy5kYXRhc2V0LmNvdXJzZUlkID09PSBzZWxlY3Rpb25zW3R1cm5vSWRdLmNvdXJzZUlkKSB7CiAgICAgICAgICAgIGMuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICB9CiAgICB9KTsKfQoKZnVuY3Rpb24gZ2V0Q291bnQoKSB7IHJldHVybiBPYmplY3QudmFsdWVzKHNlbGVjdGlvbnMpLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7IH0KCmZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXIoKSB7CiAgICBjb25zdCBuID0gZ2V0Q291bnQoKTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudGVyTnVtJykudGV4dENvbnRlbnQgPSBuOwogICAgY29uc3Qgc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRlclN0YXR1cycpOwogICAgaWYgKG4gPT09IDApIHsgc3QuY2xhc3NOYW1lID0gJ2Zsb2F0LWNvdW50ZXItc3RhdHVzIHdhcm4nOyBzdC50ZXh0Q29udGVudCA9ICdNw61uOiAxIGN1cnNvJzsgfQogICAgZWxzZSB7IHN0LmNsYXNzTmFtZSA9ICdmbG9hdC1jb3VudGVyLXN0YXR1cyBvayc7IHN0LnRleHRDb250ZW50ID0gYCR7bn0gY3Vyc28ke24gPiAxID8gJ3MnIDogJyd9IOKck2A7IH0KfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIEZPUk0gJiBWQUxJREFUSU9OCuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oKSB7CiAgICBjb25zdCBmaWVsZHMgPSBbCiAgICAgICAgeyBpZDogJ2Ytbm9tZScsIGNoZWNrOiB2ID0+IHYubGVuZ3RoID49IDMgfSwKICAgICAgICB7IGlkOiAnZi1lbWFpbCcsIGNoZWNrOiB2ID0+IC9eW15cc0BdK0BbXlxzQF0rXC5bXlxzQF0rJC8udGVzdCh2KSB9LAogICAgICAgIHsgaWQ6ICdmLWNwZicsIGNoZWNrOiB2ID0+IHZhbGlkYXJDUEYodikgfSwKICAgICAgICB7IGlkOiAnZi10ZWwnLCBjaGVjazogdiA9PiB2LnJlcGxhY2UoL1xEL2csJycpLmxlbmd0aCA+PSAxMCB9LAogICAgICAgIHsgaWQ6ICdmLW11bicsIGNoZWNrOiB2ID0+IHYubGVuZ3RoID4gMCB9LAogICAgICAgIHsgaWQ6ICdmLW9yZ2FvJywgY2hlY2s6IHYgPT4gdi5sZW5ndGggPiAwIH0sCiAgICAgICAgeyBpZDogJ2YtY2FyZ28nLCBjaGVjazogdiA9PiB2Lmxlbmd0aCA+PSAyIH0sCiAgICBdOwogICAgbGV0IG9rID0gdHJ1ZTsKICAgIGZpZWxkcy5mb3JFYWNoKGYgPT4gewogICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZi5pZCk7CiAgICAgICAgY29uc3QgdmFsID0gZWwudmFsdWUudHJpbSgpOwogICAgICAgIGlmICghZi5jaGVjayh2YWwpKSB7IGVsLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7IG9rID0gZmFsc2U7IH0gZWxzZSB7IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7IH0KICAgIH0pOwogICAgaWYgKCFvaykgewogICAgICAgIHNob3dUb2FzdCgn4pqg77iPIFByZWVuY2hhIHRvZG9zIG9zIGNhbXBvcyBjb3JyZXRhbWVudGUhJywgJ2Vycm9yJyk7CiAgICAgICAgZ29Ub1N0ZXAoNik7CiAgICB9CiAgICByZXR1cm4gb2s7Cn0KCmZ1bmN0aW9uIHZhbGlkYXJDUEYoY3BmKSB7CiAgICBjcGYgPSBjcGYucmVwbGFjZSgvXEQvZywgJycpOwogICAgaWYgKGNwZi5sZW5ndGggIT09IDExIHx8IC9eKFxkKVwxezEwfSQvLnRlc3QoY3BmKSkgcmV0dXJuIGZhbHNlOwogICAgbGV0IHNvbWEgPSAwOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHNvbWEgKz0gcGFyc2VJbnQoY3BmW2ldKSAqICgxMCAtIGkpOwogICAgbGV0IHJlc3RvID0gKHNvbWEgKiAxMCkgJSAxMTsKICAgIGlmIChyZXN0byA9PT0gMTApIHJlc3RvID0gMDsKICAgIGlmIChyZXN0byAhPT0gcGFyc2VJbnQoY3BmWzldKSkgcmV0dXJuIGZhbHNlOwogICAgc29tYSA9IDA7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHNvbWEgKz0gcGFyc2VJbnQoY3BmW2ldKSAqICgxMSAtIGkpOwogICAgcmVzdG8gPSAoc29tYSAqIDEwKSAlIDExOwogICAgaWYgKHJlc3RvID09PSAxMCkgcmVzdG8gPSAwOwogICAgcmV0dXJuIHJlc3RvID09PSBwYXJzZUludChjcGZbMTBdKTsKfQoKZnVuY3Rpb24gZmlsbEZvcm1TdW1tYXJ5KCkgewogICAgY29uc3QgYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1TdW1tYXJ5Jyk7CiAgICBsZXQgaHRtbCA9ICc8aDQ+4pyFIEN1cnNvcyBTZWxlY2lvbmFkb3M6PC9oND4nOwogICAgbGV0IGFueSA9IGZhbHNlOwogICAgVFVSTk9TLmZvckVhY2godCA9PiB7CiAgICAgICAgaWYgKHNlbGVjdGlvbnNbdC5pZF0pIHsKICAgICAgICAgICAgaHRtbCArPSBgPGRpdiBjbGFzcz0iZm9ybS1zdW1tYXJ5LXJvdyI+PHNwYW4+JHt0LnNob3J0TGFiZWx9Ojwvc3Bhbj48c3Ryb25nPiR7c2VsZWN0aW9uc1t0LmlkXS5jdXJzb308L3N0cm9uZz48L2Rpdj5gOwogICAgICAgICAgICBhbnkgPSB0cnVlOwogICAgICAgIH0KICAgIH0pOwogICAgaWYgKCFhbnkpIGh0bWwgKz0gJzxkaXYgc3R5bGU9ImNvbG9yOiM5MjQwMGU7Zm9udC1zaXplOjEzcHgiPk5lbmh1bSBjdXJzbyBzZWxlY2lvbmFkbzwvZGl2Pic7CiAgICBib3guaW5uZXJIVE1MID0gaHRtbDsKfQoKZnVuY3Rpb24gZmlsbENvbmZpcm1hdGlvbigpIHsKICAgIC8vIENvdXJzZXMKICAgIGxldCBjaCA9ICcnOwogICAgVFVSTk9TLmZvckVhY2godCA9PiB7CiAgICAgICAgaWYgKHNlbGVjdGlvbnNbdC5pZF0pIHsKICAgICAgICAgICAgY2ggKz0gYDxkaXYgY2xhc3M9ImNvbmZpcm0tY291cnNlLXJvdyI+PHNwYW4gY2xhc3M9InR1cm5vIj4ke3Quc2hvcnRMYWJlbH08L3NwYW4+PHNwYW4gY2xhc3M9Im5hbWUiPiR7c2VsZWN0aW9uc1t0LmlkXS5jdXJzb308L3NwYW4+PC9kaXY+YDsKICAgICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtQ291cnNlcycpLmlubmVySFRNTCA9IGNoOwoKICAgIC8vIERhdGEKICAgIGNvbnN0IGRhdGEgPSBbCiAgICAgICAgWydOb21lJywgZ3YoJ2Ytbm9tZScpXSwgWydFLW1haWwnLCBndignZi1lbWFpbCcpXSwgWydDUEYnLCBndignZi1jcGYnKV0sCiAgICAgICAgWydUZWxlZm9uZScsIGd2KCdmLXRlbCcpXSwgWydNdW5pY8OtcGlvJywgZ3YoJ2YtbXVuJyldLCBbJ8OTcmfDo28nLCBndignZi1vcmdhbycpXSwgWydDYXJnbycsIGd2KCdmLWNhcmdvJyldCiAgICBdOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1EYXRhJykuaW5uZXJIVE1MID0gZGF0YS5tYXAoKFtsLHZdKSA9PgogICAgICAgIGA8ZGl2IGNsYXNzPSJjb25maXJtLWRhdGEtcm93Ij48c3BhbiBjbGFzcz0ibGFiZWwiPiR7bH06PC9zcGFuPjxzcGFuIGNsYXNzPSJ2YWx1ZSI+JHt2fTwvc3Bhbj48L2Rpdj5gCiAgICApLmpvaW4oJycpOwp9CgpmdW5jdGlvbiBndihpZCkgeyByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlLnRyaW0oKTsgfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIEZJTkFMSVpBUgrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KZnVuY3Rpb24gZmluYWxpemFyKCkgewogICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZi10ZXJtb3MnKS5jaGVja2VkKSB7CiAgICAgICAgc2hvd1RvYXN0KCdBY2VpdGUgb3MgdGVybW9zIHBhcmEgY29uZmlybWFyLicsICd3YXJuJyk7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIEZpbGwgc3VjY2VzcwogICAgbGV0IGh0bWwgPSAnJzsKICAgIFRVUk5PUy5mb3JFYWNoKHQgPT4gewogICAgICAgIGlmIChzZWxlY3Rpb25zW3QuaWRdKSB7CiAgICAgICAgICAgIGh0bWwgKz0gYDxkaXYgY2xhc3M9ImNvbmZpcm0tY291cnNlLXJvdyI+PHNwYW4gY2xhc3M9InR1cm5vIj4ke3Quc2hvcnRMYWJlbH08L3NwYW4+PHNwYW4gY2xhc3M9Im5hbWUiPiR7c2VsZWN0aW9uc1t0LmlkXS5jdXJzb308L3NwYW4+PC9kaXY+YDsKICAgICAgICB9CiAgICB9KTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWNjZXNzQ291cnNlcycpLmlubmVySFRNTCA9IGh0bWw7CgogICAgZ29Ub1N0ZXAoJ3N1Y2Nlc3MnKTsKCiAgICAvLyBNYXJrIGFsbCBzdGVwcyBjb21wbGV0ZWQKICAgIFNURVBTLmZvckVhY2gocyA9PiB7CiAgICAgICAgY29uc3QgY2lyY2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHBjLSR7cy5pZH1gKTsKICAgICAgICBpZiAoY2lyY2xlKSB7CiAgICAgICAgICAgIGNpcmNsZS5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSA9ICdwcm9nLXN0ZXAgY29tcGxldGVkJzsKICAgICAgICAgICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwbC0ke3MuaWR9YCk7CiAgICAgICAgICAgIGlmIChsaW5lKSBsaW5lLmNsYXNzTmFtZSA9ICdwcm9nLWxpbmUgZG9uZSc7CiAgICAgICAgfQogICAgfSk7CgogICAgLy8gQ29uZmV0dGkKICAgIGNvbnN0IGNvbG9ycyA9IFsnIzEwYjk4MScsJyMzYjgyZjYnLCcjZjU5ZTBiJywnI2VmNDQ0NCcsJyM4YjVjZjYnLCcjZWM0ODk5JywnIzA2YjZkNCddOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2MDsgaSsrKSB7CiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIGMuY2xhc3NOYW1lID0gJ2NvbmZldHRpJzsKICAgICAgICBjLnN0eWxlLmxlZnQgPSBNYXRoLnJhbmRvbSgpICogMTAwICsgJ3Z3JzsKICAgICAgICBjLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjb2xvcnMubGVuZ3RoKV07CiAgICAgICAgYy5zdHlsZS5hbmltYXRpb25EZWxheSA9IChNYXRoLnJhbmRvbSgpICogMikgKyAncyc7CiAgICAgICAgYy5zdHlsZS5ib3JkZXJSYWRpdXMgPSBNYXRoLnJhbmRvbSgpID4gLjUgPyAnNTAlJyA6ICcycHgnOwogICAgICAgIGMuc3R5bGUud2lkdGggPSAoNiArIE1hdGgucmFuZG9tKCkgKiA2KSArICdweCc7CiAgICAgICAgYy5zdHlsZS5oZWlnaHQgPSAoNiArIE1hdGgucmFuZG9tKCkgKiA2KSArICdweCc7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjKTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGMucmVtb3ZlKCksIDYwMDApOwogICAgfQp9CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgSU5QVVQgTUFTS1MK4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICBidWlsZFByb2dyZXNzKCk7CiAgICBidWlsZFBhbmVscygpOwoKICAgIC8vIENQRiBtYXNrCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZi1jcGYnKS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGUpIHsKICAgICAgICBsZXQgdiA9IHRoaXMudmFsdWUucmVwbGFjZSgvXEQvZywgJycpLnNsaWNlKDAsIDExKTsKICAgICAgICB2ID0gdi5yZXBsYWNlKC8oXGR7M30pKFxkKS8sICckMS4kMicpLnJlcGxhY2UoLyhcZHszfSkoXGQpLywgJyQxLiQyJykucmVwbGFjZSgvKFxkezN9KShcZHsxLDJ9KSQvLCAnJDEtJDInKTsKICAgICAgICB0aGlzLnZhbHVlID0gdjsKICAgIH0pOwoKICAgIC8vIFBob25lIG1hc2sKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmLXRlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgewogICAgICAgIGxldCB2ID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9cRC9nLCAnJykuc2xpY2UoMCwgMTEpOwogICAgICAgIHYgPSB2LnJlcGxhY2UoL14oXGR7Mn0pKFxkKS9nLCAnKCQxKSAkMicpLnJlcGxhY2UoLyhcZHs1fSkoXGQpLywgJyQxLSQyJyk7CiAgICAgICAgdGhpcy52YWx1ZSA9IHY7CiAgICB9KTsKCiAgICAvLyBSZW1vdmUgZXJyb3Igb24gZm9jdXMKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWlucHV0JykuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpKTsKICAgIH0pOwp9KTs=";
function b64dec(s){try{return decodeURIComponent(Array.prototype.map.call(atob(s),function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)}).join(''))}catch(e){return atob(s)}}

/* === THEMES === */
var TH=[
{id:'theme-sky',bg:'linear-gradient(135deg,#0284c7,#0ea5e9)',c:'#0284c7'},
{id:'theme-emerald',bg:'linear-gradient(135deg,#059669,#10b981)',c:'#059669'},
{id:'theme-violet',bg:'linear-gradient(135deg,#7c3aed,#8b5cf6)',c:'#7c3aed'},
{id:'theme-amber',bg:'linear-gradient(135deg,#d97706,#f59e0b)',c:'#d97706'},
{id:'theme-pink',bg:'linear-gradient(135deg,#db2777,#ec4899)',c:'#db2777'},
{id:'theme-cyan',bg:'linear-gradient(135deg,#0891b2,#06b6d4)',c:'#0891b2'},
{id:'theme-rose',bg:'linear-gradient(135deg,#e11d48,#f43f5e)',c:'#e11d48'},
{id:'theme-indigo',bg:'linear-gradient(135deg,#4338ca,#6366f1)',c:'#4338ca'},
{id:'theme-teal',bg:'linear-gradient(135deg,#0d9488,#14b8a6)',c:'#0d9488'},
{id:'theme-orange',bg:'linear-gradient(135deg,#ea580c,#f97316)',c:'#ea580c'},
{id:'theme-lime',bg:'linear-gradient(135deg,#65a30d,#84cc16)',c:'#65a30d'},
{id:'theme-fuchsia',bg:'linear-gradient(135deg,#c026d3,#d946ef)',c:'#c026d3'},
{id:'theme-blue',bg:'linear-gradient(135deg,#2563eb,#3b82f6)',c:'#2563eb'},
{id:'theme-green',bg:'linear-gradient(135deg,#16a34a,#22c55e)',c:'#16a34a'},
{id:'theme-purple',bg:'linear-gradient(135deg,#9333ea,#a855f7)',c:'#9333ea'}
];
function thBg(id){return(TH.find(function(t){return t.id===id})||TH[0]).bg}
function thC(id){return(TH.find(function(t){return t.id===id})||TH[0]).c}

/* === MUNICIPIOS === */
var MUN=["Abaetetuba","Abel Figueiredo","Acar\u00e1","Afu\u00e1","\u00c1gua Azul do Norte","Alenquer","Almeirim","Altamira","Anaj\u00e1s","Ananindeua","Anapu","Augusto Corr\u00eaa","Aurora do Par\u00e1","Aveiro","Bagre","Bai\u00e3o","Bannach","Barcarena","Bel\u00e9m","Belterra","Benevides","Bom Jesus do Tocantins","Bonito","Bragan\u00e7a","Brasil Novo","Brejo Grande do Araguaia","Breu Branco","Breves","Bujaru","Cachoeira do Arari","Cachoeira do Piri\u00e1","Camet\u00e1","Cana\u00e3 dos Caraj\u00e1s","Capanema","Capit\u00e3o Po\u00e7o","Castanhal","Chaves","Colares","Concei\u00e7\u00e3o do Araguaia","Conc\u00f3rdia do Par\u00e1","Cumaru do Norte","Curion\u00f3polis","Curralinho","Curu\u00e1","Curu\u00e7\u00e1","Dom Eliseu","Eldorado dos Caraj\u00e1s","Faro","Floresta do Araguaia","Garraf\u00e3o do Norte","Goian\u00e9sia do Par\u00e1","Gurup\u00e1","Igarap\u00e9-A\u00e7u","Igarap\u00e9-Miri","Inhangapi","Ipixuna do Par\u00e1","Irituia","Itaituba","Itupiranga","Jacareacanga","Jacund\u00e1","Juruti","Limoeiro do Ajuru","M\u00e3e do Rio","Magalh\u00e3es Barata","Marab\u00e1","Maracan\u00e3","Marapanim","Marituba","Medicil\u00e2ndia","Melga\u00e7o","Mocajuba","Moju","Moju\u00ed dos Campos","Monte Alegre","Muan\u00e1","Nova Esperan\u00e7a do Piri\u00e1","Nova Ipixuna","Nova Timboteua","Novo Progresso","Novo Repartimento","\u00d3bidos","Oeiras do Par\u00e1","Oriximin\u00e1","Our\u00e9m","Ouril\u00e2ndia do Norte","Pacaj\u00e1","Palestina do Par\u00e1","Paragominas","Parauapebas","Pau D'Arco","Peixe-Boi","Pi\u00e7arra","Placas","Ponta de Pedras","Portel","Porto de Moz","Prainha","Primavera","Quatipuru","Reden\u00e7\u00e3o","Rio Maria","Rondon do Par\u00e1","Rur\u00f3polis","Salin\u00f3polis","Salvaterra","Santa B\u00e1rbara do Par\u00e1","Santa Cruz do Arari","Santa Izabel do Par\u00e1","Santa Luzia do Par\u00e1","Santa Maria das Barreiras","Santa Maria do Par\u00e1","Santana do Araguaia","Santar\u00e9m","Santar\u00e9m Novo","Santo Ant\u00f4nio do Tau\u00e1","S\u00e3o Caetano de Odivelas","S\u00e3o Domingos do Araguaia","S\u00e3o Domingos do Capim","S\u00e3o F\u00e9lix do Xingu","S\u00e3o Francisco do Par\u00e1","S\u00e3o Geraldo do Araguaia","S\u00e3o Jo\u00e3o da Ponta","S\u00e3o Jo\u00e3o de Pirabas","S\u00e3o Jo\u00e3o do Araguaia","S\u00e3o Miguel do Guam\u00e1","S\u00e3o Sebasti\u00e3o da Boa Vista","Sapucaia","Senador Jos\u00e9 Porf\u00edrio","Soure","Tail\u00e2ndia","Terra Alta","Terra Santa","Tom\u00e9-A\u00e7u","Tracuateua","Trair\u00e3o","Tucum\u00e3","Tucuru\u00ed","Ulian\u00f3polis","Uruar\u00e1","Vigia","Viseu","Vit\u00f3ria do Xingu","Xinguara"];

/* === DEFAULT CONFIG === */
function defCfg(){return{
titulo:'Semana de Capacita\u00e7\u00e3o',ano:'2026',
subtitulo:'Monte sua trilha personalizada! Escolha os cursos que mais se encaixam no seu perfil, com m\u00ednimo de 1 curso obrigat\u00f3rio.',
badgeStatus:'Inscri\u00e7\u00f5es Abertas',headerBadge:'Mar\u00e7o 2026',minCursos:1,
tags:[{text:'\ud83d\udcc5 15\u201317 de Mar\u00e7o',hl:false},{text:'\u23f1 5 Turnos dispon\u00edveis',hl:false},{text:'\u26a1 M\u00ednimo 1 curso',hl:true}],
turnos:[
{label:'Turno 1',shortLabel:'Seg Manh\u00e3',badge:'Segunda-feira \u2022 15/03 \u2022 Manh\u00e3 (8h\u201312h)',badgeBg:'#e0f2fe',badgeColor:'#0369a1',courses:[
{name:'Controle Interno B\u00e1sico',theme:'theme-sky',tag:'N\u00edvel B\u00e1sico',title:'Controle Interno',subtitle:'Fundamentos e Gest\u00e3o de Riscos',instructor:'Aristides Gomes',instrRole:'Auditor de Controle Externo',instrInitials:'AG',desc:'Introdu\u00e7\u00e3o aos conceitos fundamentais de controle interno.',publico:'Servidores iniciantes em controle interno.',duracao:'4h',vagas:50},
{name:'Gest\u00e3o de Contratos I',theme:'theme-emerald',tag:'Lei 14.133/21',title:'Gest\u00e3o de Contratos I',subtitle:'Fundamentos da Nova Lei',instructor:'Patr\u00edcia Alves',instrRole:'Especialista em Licita\u00e7\u00f5es',instrInitials:'PA',desc:'Vis\u00e3o geral da Lei 14.133/21.',publico:'Pregoeiros, gestores de contratos.',duracao:'4h',vagas:50},
{name:'Contabilidade MCASP',theme:'theme-violet',tag:'MCASP 9\u00aa Ed.',title:'Contabilidade P\u00fablica',subtitle:'Manual Aplicado ao Setor P\u00fablico',instructor:'Roberto Lima',instrRole:'Contador P\u00fablico',instrInitials:'RL',desc:'Estrutura do MCASP.',publico:'Contadores p\u00fablicos.',duracao:'4h',vagas:40}
]},
{label:'Turno 2',shortLabel:'Seg Tarde',badge:'Segunda-feira \u2022 15/03 \u2022 Tarde (14h\u201318h)',badgeBg:'#fef3c7',badgeColor:'#92400e',courses:[
{name:'Presta\u00e7\u00e3o de Contas',theme:'theme-amber',tag:'TCM-PA',title:'Presta\u00e7\u00e3o de Contas',subtitle:'Elabora\u00e7\u00e3o e An\u00e1lise Anual',instructor:'Fernanda Costa',instrRole:'Analista de Contas do TCM',instrInitials:'FC',desc:'Documentos obrigat\u00f3rios, prazos legais.',publico:'Contadores, controladores internos.',duracao:'4h',vagas:80},
{name:'Transpar\u00eancia e LAI',theme:'theme-pink',tag:'Lei 12.527/11',title:'Transpar\u00eancia P\u00fablica',subtitle:'LAI e Portal da Transpar\u00eancia',instructor:'Ana Beatriz',instrRole:'Ouvidora P\u00fablica',instrInitials:'AB',desc:'Obriga\u00e7\u00f5es da Lei de Acesso \u00e0 Informa\u00e7\u00e3o.',publico:'Ouvidores, respons\u00e1veis por portais.',duracao:'4h',vagas:100},
{name:'SICONFI Pr\u00e1tico',theme:'theme-cyan',tag:'STN',title:'SICONFI Pr\u00e1tico',subtitle:'Declara\u00e7\u00f5es e Relat\u00f3rios',instructor:'Carlos Mendon\u00e7a',instrRole:'Consultor em Finan\u00e7as P\u00fablicas',instrInitials:'CM',desc:'Navega\u00e7\u00e3o no sistema SICONFI.',publico:'Contadores p\u00fablicos.',duracao:'4h',vagas:40}
]},
{label:'Turno 3',shortLabel:'Ter Manh\u00e3',badge:'Ter\u00e7a-feira \u2022 16/03 \u2022 Manh\u00e3 (8h\u201312h)',badgeBg:'#ffe4e6',badgeColor:'#9f1239',courses:[
{name:'Licita\u00e7\u00f5es na Pr\u00e1tica',theme:'theme-rose',tag:'Casos Pr\u00e1ticos',title:'Licita\u00e7\u00f5es na Pr\u00e1tica',subtitle:'Estudos de Caso Municipais',instructor:'Patr\u00edcia Alves',instrRole:'Especialista em Licita\u00e7\u00f5es',instrInitials:'PA',desc:'An\u00e1lise de casos reais.',publico:'Pregoeiros, agentes de contrata\u00e7\u00e3o.',duracao:'4h',vagas:60},
{name:'Controle Interno Avan\u00e7ado',theme:'theme-indigo',tag:'N\u00edvel Avan\u00e7ado',title:'Controle Interno II',subtitle:'Auditoria e Matriz de Riscos',instructor:'Aristides Gomes',instrRole:'Auditor de Controle Externo',instrInitials:'AG',desc:'Elabora\u00e7\u00e3o de matriz de riscos.',publico:'Controladores internos.',duracao:'4h',vagas:40},
{name:'Folha de Pagamento',theme:'theme-teal',tag:'Gest\u00e3o de Pessoas',title:'Folha de Pagamento',subtitle:'Gest\u00e3o e Controle no Setor P\u00fablico',instructor:'Roberto Lima',instrRole:'Contador P\u00fablico',instrInitials:'RL',desc:'Limites de despesa com pessoal (LRF).',publico:'Servidores de RH.',duracao:'4h',vagas:50}
]},
{label:'Turno 4',shortLabel:'Ter Tarde',badge:'Ter\u00e7a-feira \u2022 16/03 \u2022 Tarde (14h\u201318h)',badgeBg:'#ffedd5',badgeColor:'#9a3412',courses:[
{name:'Gest\u00e3o de Contratos II',theme:'theme-orange',tag:'Avan\u00e7ado',title:'Gest\u00e3o de Contratos II',subtitle:'Fiscaliza\u00e7\u00e3o, Aditivos e San\u00e7\u00f5es',instructor:'Patr\u00edcia Alves',instrRole:'Especialista em Licita\u00e7\u00f5es',instrInitials:'PA',desc:'Atribui\u00e7\u00f5es do fiscal de contratos.',publico:'Fiscais de contratos.',duracao:'4h',vagas:50},
{name:'Or\u00e7amento P\u00fablico',theme:'theme-lime',tag:'PPA \u2022 LDO \u2022 LOA',title:'Or\u00e7amento P\u00fablico',subtitle:'Ciclo Or\u00e7ament\u00e1rio na Pr\u00e1tica',instructor:'Fernanda Costa',instrRole:'Analista de Contas do TCM',instrInitials:'FC',desc:'Elabora\u00e7\u00e3o do PPA, LDO e LOA.',publico:'Servidores de planejamento.',duracao:'4h',vagas:60},
{name:'Ouvidoria Municipal',theme:'theme-fuchsia',tag:'Atendimento',title:'Ouvidoria Municipal',subtitle:'Gest\u00e3o e Atendimento ao Cidad\u00e3o',instructor:'Ana Beatriz',instrRole:'Ouvidora P\u00fablica',instrInitials:'AB',desc:'Estrutura\u00e7\u00e3o da ouvidoria.',publico:'Ouvidores.',duracao:'4h',vagas:80}
]},
{label:'Turno 5',shortLabel:'Qua Manh\u00e3',badge:'Quarta-feira \u2022 17/03 \u2022 Manh\u00e3 (8h\u201312h)',badgeBg:'#f3e8ff',badgeColor:'#6b21a8',courses:[
{name:'Workshop: Casos TCM',theme:'theme-blue',tag:'Workshop',title:'Casos do TCM-PA',subtitle:'Jurisprud\u00eancia e Decis\u00f5es',instructor:'Carlos Mendon\u00e7a',instrRole:'Consultor em Finan\u00e7as P\u00fablicas',instrInitials:'CM',desc:'An\u00e1lise de decis\u00f5es recentes do TCM-PA.',publico:'Todos os servidores.',duracao:'4h',vagas:100},
{name:'Encerramento de Mandato',theme:'theme-green',tag:'Transi\u00e7\u00e3o',title:'Encerramento de Mandato',subtitle:'Procedimentos para Transi\u00e7\u00e3o',instructor:'Fernanda Costa',instrRole:'Analista de Contas do TCM',instrInitials:'FC',desc:'Obriga\u00e7\u00f5es do \u00faltimo ano.',publico:'Prefeitos, vereadores.',duracao:'4h',vagas:80},
{name:'Compliance Municipal',theme:'theme-purple',tag:'Integridade',title:'Compliance Municipal',subtitle:'Programa de Integridade',instructor:'Aristides Gomes',instrRole:'Auditor de Controle Externo',instrInitials:'AG',desc:'Implementa\u00e7\u00e3o de programa de integridade.',publico:'Gestores p\u00fablicos.',duracao:'4h',vagas:60}
]}
],
fields:[
{label:'Nome Completo',type:'text',ph:'Seu nome completo',req:true,err:'Informe seu nome completo',on:true},
{label:'E-mail',type:'email',ph:'seu@email.com',req:true,err:'Informe um e-mail v\u00e1lido',on:true},
{label:'CPF',type:'cpf',ph:'000.000.000-00',req:true,err:'CPF inv\u00e1lido',on:true},
{label:'Telefone',type:'tel',ph:'(00) 00000-0000',req:true,err:'Informe seu telefone',on:true},
{label:'Munic\u00edpio',type:'municipio',ph:'Selecione seu munic\u00edpio...',req:true,err:'Selecione o munic\u00edpio',on:true},
{label:'\u00d3rg\u00e3o',type:'select',ph:'Selecione...',req:true,err:'Selecione o \u00f3rg\u00e3o',on:true,opts:''},
{label:'Cargo / Fun\u00e7\u00e3o',type:'text',ph:'Ex: Contador, Controlador Interno...',req:true,err:'Informe seu cargo',on:true}
],
orgaos:'Prefeitura Municipal\nC\u00e2mara Municipal\nAutarquia\nFunda\u00e7\u00e3o\nEmpresa P\u00fablica\nSociedade de Economia Mista\nCons\u00f3rcio P\u00fablico\nOutro',
termos:'Declaro que as informa\u00e7\u00f5es prestadas s\u00e3o verdadeiras e me comprometo a participar dos cursos selecionados.',
okTit:'Inscri\u00e7\u00e3o Confirmada!',okSub:'Enviamos os detalhes para o seu e-mail.',
okSteps:'Verifique seu e-mail (inclusive spam)\nAdicione as datas \u00e0 sua agenda\nO link de acesso ser\u00e1 enviado 1 dia antes',
msgMin:'Selecione pelo menos 1 curso antes de continuar!',
msgCampos:'Preencha todos os campos corretamente!',
msgTermos:'Aceite os termos para confirmar.'
}}

/* === STATE === */
var C = loadCfg();
var _editTi = -1, _editCi = -1;

function loadCfg(){try{var s=localStorage.getItem('ec-admin-cfg');if(s)return JSON.parse(s)}catch(e){}return defCfg()}
function saveCfg(){localStorage.setItem('ec-admin-cfg',JSON.stringify(C))}
function H(s){return String(s||'').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;')}

/* === TABS === */
var tabDefs=[{id:'geral',label:'\ud83c\udfe0 Geral'},{id:'turnos',label:'\ud83d\udcc5 Turnos & Cursos'},{id:'form',label:'\ud83d\udcdd Formul\u00e1rio'},{id:'msgs',label:'\ud83d\udcac Mensagens'},{id:'gforms',label:'\ud83d\udcca Google Forms'}];
function buildTabs(){
var h='';
for(var i=0;i<tabDefs.length;i++){
h+='<button class="tab'+(i===0?' act':'')+'" onclick="switchTab(\''+tabDefs[i].id+'\',this)">'+tabDefs[i].label+'</button>';
}
document.getElementById('tabs').innerHTML=h;
}
function switchTab(id,el){
syncUI();
var tabs=document.querySelectorAll('.tab');for(var i=0;i<tabs.length;i++)tabs[i].classList.remove('act');
var pans=document.querySelectorAll('.pan');for(var i=0;i<pans.length;i++)pans[i].classList.remove('act');
if(el)el.classList.add('act');
document.getElementById('p-'+id).classList.add('act');
}

/* === SYNC UI === */
function syncUI(){
var g=function(k){return document.getElementById(k)};
if(g('g-titulo')){
C.titulo=g('g-titulo').value;C.ano=g('g-ano').value;C.subtitulo=g('g-sub').value;
C.badgeStatus=g('g-badge').value;C.headerBadge=g('g-hbadge').value;
C.minCursos=parseInt(g('g-min').value)||1;
C.tags=[];var rows=document.querySelectorAll('.tag-row');
for(var i=0;i<rows.length;i++){C.tags.push({text:rows[i].querySelector('.tag-text').value,hl:rows[i].querySelector('.tag-hl').checked})}
}
if(g('f-orgaos'))C.orgaos=g('f-orgaos').value;
if(g('f-termos'))C.termos=g('f-termos').value;
if(g('m-oktit')){C.okTit=g('m-oktit').value;C.okSub=g('m-oksub').value;C.okSteps=g('m-okst').value;
C.msgMin=g('m-min').value;C.msgCampos=g('m-campos').value;C.msgTermos=g('m-termos').value;}
if(g('gf-formid'))syncGForms();
saveCfg();
}

/* === RENDER === */
function renderAll(){buildTabs();renderGeral();renderTurnos();renderForm();renderMsgs();renderGForms()}

function renderGeral(){
var p=document.getElementById('p-geral');
var tagsH='';
for(var i=0;i<C.tags.length;i++){
tagsH+='<div class="fd tag-row" style="display:flex;gap:6px;align-items:center"><input class="fi tag-text" value="'+H(C.tags[i].text)+'" style="flex:1"><label class="tg" title="Destaque"><input type="checkbox" class="tag-hl" '+(C.tags[i].hl?'checked':'')+'><div class="tg-t"></div></label><button class="bt bt-g" onclick="C.tags.splice('+i+',1);saveCfg();renderGeral()">&#10005;</button></div>';
}
p.innerHTML='<div class="al al-i">&#128161; Configure as informa\u00e7\u00f5es gerais do evento.</div>'+
'<div class="sec"><div class="sec-h"><h3>Identidade</h3></div><div class="sec-b">'+
'<div class="fd"><label class="fl">T\u00edtulo</label><input class="fi" id="g-titulo" value="'+H(C.titulo)+'"></div>'+
'<div class="fd"><label class="fl">Ano/Destaque</label><input class="fi" id="g-ano" value="'+H(C.ano)+'"></div>'+
'<div class="fd"><label class="fl">Subt\u00edtulo</label><textarea class="fi" id="g-sub">'+H(C.subtitulo)+'</textarea></div>'+
'<div class="fd"><label class="fl">Badge Status</label><input class="fi" id="g-badge" value="'+H(C.badgeStatus)+'"></div>'+
'</div></div>'+
'<div class="sec"><div class="sec-h"><h3>Tags</h3></div><div class="sec-b">'+tagsH+'</div>'+
'<div style="padding:0 16px 12px"><button class="bt bt-g" onclick="syncUI();C.tags.push({text:\'Nova tag\',hl:false});saveCfg();renderGeral()">+ Tag</button></div></div>'+
'<div class="sec"><div class="sec-h"><h3>Header</h3></div><div class="sec-b">'+
'<div class="fd"><label class="fl">Texto do Header</label><input class="fi" id="g-hbadge" value="'+H(C.headerBadge)+'"></div>'+
'<div class="fd"><label class="fl">M\u00ednimo de cursos</label><input type="number" class="fi" id="g-min" value="'+C.minCursos+'" min="0" max="10"></div>'+
'</div></div>';
}

function renderTurnos(){
var p=document.getElementById('p-turnos');
if(!C.turnos.length){p.innerHTML='<div class="empty">Nenhum turno.</div><button class="bt bt-p" onclick="addTurno()">+ Turno</button>';return}
var h='<div class="al al-i">Clique no turno para expandir e editar cursos.</div>';
for(var i=0;i<C.turnos.length;i++){
var t=C.turnos[i];
var courses='';
for(var ci=0;ci<t.courses.length;ci++){
var c=t.courses[ci];
courses+='<div class="cm"><div class="cm-i"><div class="cm-c" style="background:'+thBg(c.theme)+'"></div><div class="cm-t"><b>'+H(c.title)+'</b><small>'+H(c.instructor)+' \u00b7 '+c.vagas+' vagas \u00b7 '+c.duracao+'</small></div></div><div style="display:flex;gap:3px"><button class="bt bt-g" onclick="editCourse('+i+','+ci+')">\u270f\ufe0f</button><button class="bt bt-g" onclick="delCourse('+i+','+ci+')">\ud83d\uddd1\ufe0f</button></div></div>';
}
if(!t.courses.length)courses='<div class="empty">Nenhum curso neste turno.</div>';
h+='<div class="ti" id="ti-'+i+'"><div class="ti-h" onclick="document.getElementById(\'ti-'+i+'\').classList.toggle(\'open\')"><div class="ti-info"><div class="ti-n">'+(i+1)+'</div><div class="ti-txt"><b>'+H(t.label)+'</b><small>'+H(t.badge)+' \u00b7 '+t.courses.length+' curso(s)</small></div></div><div class="ti-acts"><button class="bt bt-g" onclick="event.stopPropagation();editTurno('+i+')">\u270f\ufe0f</button><button class="bt bt-g" onclick="event.stopPropagation();delTurno('+i+')">\ud83d\uddd1\ufe0f</button><span class="ti-arr">\u25bc</span></div></div><div class="ti-body">'+courses+'<button class="bt bt-g" onclick="addCourse('+i+')" style="margin-top:6px">+ Curso</button></div></div>';
}
h+='<button class="bt bt-p" onclick="addTurno()" style="margin-top:10px">+ Novo Turno</button>';
p.innerHTML=h;
}

function renderForm(){
var p=document.getElementById('p-form');
var fields='';
for(var i=0;i<C.fields.length;i++){
var f=C.fields[i];
fields+='<div class="ffi"><div class="ffi-i"><b>'+H(f.label)+'</b><small>'+f.type+' \u00b7 '+(f.req?'Obrigat\u00f3rio':'Opcional')+'</small></div><label class="tg"><input type="checkbox" '+(f.on?'checked':'')+' onchange="C.fields['+i+'].on=this.checked;saveCfg()"><div class="tg-t"></div></label><button class="bt bt-g" onclick="editField('+i+')">\u270f\ufe0f</button><button class="bt bt-g" onclick="C.fields.splice('+i+',1);saveCfg();renderForm()">\ud83d\uddd1\ufe0f</button></div>';
}
p.innerHTML='<div class="al al-i">Configure os campos do formul\u00e1rio.</div>'+
'<div class="sec"><div class="sec-h"><h3>Campos</h3><button class="bt bt-g" onclick="addField()">+ Campo</button></div><div class="sec-b">'+fields+'</div></div>'+
'<div class="sec"><div class="sec-h"><h3>\u00d3rg\u00e3os</h3></div><div class="sec-b"><div class="fd"><label class="fl">Lista (um por linha)</label><textarea class="fi" id="f-orgaos" rows="6">'+H(C.orgaos)+'</textarea></div></div></div>'+
'<div class="sec"><div class="sec-h"><h3>Termos</h3></div><div class="sec-b"><div class="fd"><textarea class="fi" id="f-termos" rows="3">'+H(C.termos)+'</textarea></div></div></div>';
}

function renderMsgs(){
document.getElementById('p-msgs').innerHTML='<div class="al al-i">Personalize mensagens.</div>'+
'<div class="sec"><div class="sec-h"><h3>Sucesso</h3></div><div class="sec-b">'+
'<div class="fd"><label class="fl">T\u00edtulo</label><input class="fi" id="m-oktit" value="'+H(C.okTit)+'"></div>'+
'<div class="fd"><label class="fl">Subt\u00edtulo</label><input class="fi" id="m-oksub" value="'+H(C.okSub)+'"></div>'+
'<div class="fd"><label class="fl">Pr\u00f3ximos Passos (um por linha)</label><textarea class="fi" id="m-okst" rows="3">'+H(C.okSteps)+'</textarea></div>'+
'</div></div>'+
'<div class="sec"><div class="sec-h"><h3>Valida\u00e7\u00e3o</h3></div><div class="sec-b">'+
'<div class="fd"><label class="fl">Sem cursos</label><input class="fi" id="m-min" value="'+H(C.msgMin)+'"></div>'+
'<div class="fd"><label class="fl">Campos inv\u00e1lidos</label><input class="fi" id="m-campos" value="'+H(C.msgCampos)+'"></div>'+
'<div class="fd"><label class="fl">Termos n\u00e3o aceitos</label><input class="fi" id="m-termos" value="'+H(C.msgTermos)+'"></div>'+
'</div></div>';
}

/* === TURNO CRUD === */
function addTurno(){syncUI();var n=C.turnos.length+1;C.turnos.push({label:'Turno '+n,shortLabel:'T'+n,badge:'Dia DD/MM',badgeBg:'#f1f5f9',badgeColor:'#475569',courses:[]});saveCfg();renderTurnos()}
function delTurno(i){if(confirm('Apagar "'+C.turnos[i].label+'"?')){C.turnos.splice(i,1);saveCfg();renderTurnos()}}
function editTurno(i){_editTi=i;var t=C.turnos[i];
document.getElementById('mo-turno-b').innerHTML='<div class="fr"><div class="fd"><label class="fl">Nome</label><input class="fi" id="et-label" value="'+H(t.label)+'"></div><div class="fd"><label class="fl">Label Curto</label><input class="fi" id="et-short" value="'+H(t.shortLabel)+'"></div></div><div class="fd"><label class="fl">Descri\u00e7\u00e3o (badge)</label><input class="fi" id="et-badge" value="'+H(t.badge)+'"></div><div class="fr"><div class="fd"><label class="fl">Cor Fundo</label><input type="color" id="et-bg" value="'+t.badgeBg+'"></div><div class="fd"><label class="fl">Cor Texto</label><input type="color" id="et-tc" value="'+t.badgeColor+'"></div></div>';
openM('mo-turno');}
function saveTurno(){var t=C.turnos[_editTi];t.label=document.getElementById('et-label').value;t.shortLabel=document.getElementById('et-short').value;t.badge=document.getElementById('et-badge').value;t.badgeBg=document.getElementById('et-bg').value;t.badgeColor=document.getElementById('et-tc').value;saveCfg();renderTurnos();closeM('mo-turno')}

/* === COURSE CRUD === */
function addCourse(ti){syncUI();C.turnos[ti].courses.push({name:'Novo Curso',theme:'theme-sky',tag:'Tag',title:'Novo Curso',subtitle:'Subt\u00edtulo',instructor:'Instrutor',instrRole:'Cargo',instrInitials:'IN',desc:'Descri\u00e7\u00e3o.',publico:'P\u00fablico alvo.',duracao:'4h',vagas:50});saveCfg();renderTurnos();var e=document.getElementById('ti-'+ti);if(e)e.classList.add('open');editCourse(ti,C.turnos[ti].courses.length-1)}
function delCourse(ti,ci){if(confirm('Apagar "'+C.turnos[ti].courses[ci].title+'"?')){C.turnos[ti].courses.splice(ci,1);saveCfg();renderTurnos()}}
function editCourse(ti,ci){_editTi=ti;_editCi=ci;var c=C.turnos[ti].courses[ci];
var thPicker='';for(var j=0;j<TH.length;j++){thPicker+='<div class="tho'+(TH[j].id===c.theme?' sel':'')+'" style="background:'+TH[j].bg+'" data-th="'+TH[j].id+'" onclick="pickTh(this)"></div>'}
document.getElementById('mo-course-b').innerHTML='<div class="fd"><label class="fl">Nome Interno</label><input class="fi" id="ec-name" value="'+H(c.name)+'"></div><div class="fr"><div class="fd"><label class="fl">T\u00edtulo</label><input class="fi" id="ec-title" value="'+H(c.title)+'" oninput="updPvw()"></div><div class="fd"><label class="fl">Subt\u00edtulo</label><input class="fi" id="ec-sub" value="'+H(c.subtitle)+'" oninput="updPvw()"></div></div><div class="fd"><label class="fl">Tag</label><input class="fi" id="ec-tag" value="'+H(c.tag)+'" oninput="updPvw()"></div><div class="fd"><label class="fl">Descri\u00e7\u00e3o</label><textarea class="fi" id="ec-desc" rows="3">'+H(c.desc)+'</textarea></div><div class="fd"><label class="fl">P\u00fablico Alvo</label><textarea class="fi" id="ec-pub" rows="2">'+H(c.publico)+'</textarea></div><hr style="border:none;border-top:1px solid var(--bd);margin:12px 0"><div class="fr"><div class="fd"><label class="fl">Instrutor</label><input class="fi" id="ec-instr" value="'+H(c.instructor)+'" oninput="autoInit()"></div><div class="fd"><label class="fl">Cargo</label><input class="fi" id="ec-role" value="'+H(c.instrRole)+'"></div></div><div class="fr3"><div class="fd"><label class="fl">Dura\u00e7\u00e3o</label><input class="fi" id="ec-dur" value="'+c.duracao+'"></div><div class="fd"><label class="fl">Vagas</label><input type="number" class="fi" id="ec-vag" value="'+c.vagas+'"></div><div class="fd"><label class="fl">Iniciais</label><input class="fi" id="ec-init" value="'+H(c.instrInitials)+'" maxlength="3"></div></div><div class="fd" style="margin-top:12px"><label class="fl">Cor</label><div class="thg">'+thPicker+'</div></div><div class="pvw" id="ec-pvw"><div class="pvw-h" id="ec-pvw-h" style="background:'+thBg(c.theme)+'"><div class="pt" id="ec-pvw-tag">'+H(c.tag)+'</div><h4 id="ec-pvw-title">'+H(c.title)+'</h4><p id="ec-pvw-sub">'+H(c.subtitle)+'</p></div></div>';
openM('mo-course');}
function pickTh(el){var all=document.querySelectorAll('#mo-course-b .tho');for(var i=0;i<all.length;i++)all[i].classList.remove('sel');el.classList.add('sel');updPvw()}
function updPvw(){var sel=document.querySelector('#mo-course-b .tho.sel');var thId=sel?sel.dataset.th:'theme-sky';document.getElementById('ec-pvw-h').style.background=thBg(thId);document.getElementById('ec-pvw-tag').textContent=document.getElementById('ec-tag').value||'Tag';document.getElementById('ec-pvw-title').textContent=document.getElementById('ec-title').value||'T\u00edtulo';document.getElementById('ec-pvw-sub').textContent=document.getElementById('ec-sub').value||'Subt\u00edtulo'}
function autoInit(){var p=document.getElementById('ec-instr').value.trim().split(/\s+/);if(p.length>=2)document.getElementById('ec-init').value=(p[0][0]+p[p.length-1][0]).toUpperCase()}
function saveCourse(){var sel=document.querySelector('#mo-course-b .tho.sel');var thId=sel?sel.dataset.th:'theme-sky';C.turnos[_editTi].courses[_editCi]={name:document.getElementById('ec-name').value,title:document.getElementById('ec-title').value,subtitle:document.getElementById('ec-sub').value,tag:document.getElementById('ec-tag').value,desc:document.getElementById('ec-desc').value,publico:document.getElementById('ec-pub').value,instructor:document.getElementById('ec-instr').value,instrRole:document.getElementById('ec-role').value,instrInitials:document.getElementById('ec-init').value,duracao:document.getElementById('ec-dur').value,vagas:parseInt(document.getElementById('ec-vag').value)||50,theme:thId};saveCfg();renderTurnos();closeM('mo-course')}

/* === FIELD CRUD === */
function addField(){C.fields.push({label:'Novo Campo',type:'text',ph:'',req:false,err:'Preencha',on:true});saveCfg();renderForm();editField(C.fields.length-1)}
function editField(i){_editCi=i;var f=C.fields[i];
document.getElementById('mo-field-b').innerHTML='<div class="fr"><div class="fd"><label class="fl">R\u00f3tulo</label><input class="fi" id="ef-label" value="'+H(f.label)+'"></div><div class="fd"><label class="fl">Tipo</label><select class="fi" id="ef-type"><option value="text"'+(f.type==='text'?' selected':'')+'>Texto</option><option value="email"'+(f.type==='email'?' selected':'')+'>E-mail</option><option value="cpf"'+(f.type==='cpf'?' selected':'')+'>CPF</option><option value="tel"'+(f.type==='tel'?' selected':'')+'>Telefone</option><option value="select"'+(f.type==='select'?' selected':'')+'>Lista</option><option value="municipio"'+(f.type==='municipio'?' selected':'')+'>Munic\u00edpio</option></select></div></div><div class="fd"><label class="fl">Placeholder</label><input class="fi" id="ef-ph" value="'+H(f.ph)+'"></div><div class="fr"><div class="fd"><label class="fl">Obrigat\u00f3rio?</label><label class="tg"><input type="checkbox" id="ef-req" '+(f.req?'checked':'')+'><div class="tg-t"></div></label></div><div class="fd"><label class="fl">Msg Erro</label><input class="fi" id="ef-err" value="'+H(f.err)+'"></div></div>';
openM('mo-field');}
function saveField(){C.fields[_editCi]={label:document.getElementById('ef-label').value,type:document.getElementById('ef-type').value,ph:document.getElementById('ef-ph').value,req:document.getElementById('ef-req').checked,err:document.getElementById('ef-err').value,opts:C.fields[_editCi].opts||'',on:C.fields[_editCi].on};saveCfg();renderForm();closeM('mo-field')}

/* === MODALS === */
function openM(id){document.getElementById(id).classList.add('open')}
function closeM(id){document.getElementById(id).classList.remove('open')}
var modals=document.querySelectorAll('.mo');for(var mi=0;mi<modals.length;mi++){(function(m){m.addEventListener('click',function(e){if(e.target===m)closeM(m.id)})})(modals[mi])}

/* === TOAST === */
function toast(msg){var t=document.createElement('div');t.className='toast-a';t.textContent=msg;document.body.appendChild(t);setTimeout(function(){t.remove()},3000)}

/* === EXPORT === */
function doExportJSON(){syncUI();var b=new Blob([JSON.stringify(C,null,2)],{type:'application/json'});dl(b,'escola-config.json');toast('JSON exportado!')}
function dl(blob,name){var u=URL.createObjectURL(blob);var a=document.createElement('a');a.href=u;a.download=name;a.click();URL.revokeObjectURL(u)}

/* === AUTO-SAVE === */
var _saveTimer=null;
document.addEventListener('input',function(){clearTimeout(_saveTimer);_saveTimer=setTimeout(syncUI,600)});

/* === SITE GENERATOR === */
function genSite(cfg){
var siteCSS = b64dec(SITE_CSS_B64);
var siteJS = b64dec(SITE_JS_B64);

var turnos=[];
for(var ti=0;ti<cfg.turnos.length;ti++){
var t=cfg.turnos[ti];var courses=[];
for(var ci=0;ci<t.courses.length;ci++){
var c=t.courses[ci];
courses.push({id:'c'+(ti+1)+'-'+(ci+1),name:c.name,theme:c.theme,tag:c.tag,title:c.title,subtitle:c.subtitle,instructor:c.instructor,instrRole:c.instrRole,instrInitials:c.instrInitials,instrTheme:c.theme,desc:c.desc,publico:c.publico,duracao:c.duracao,vagas:c.vagas,ctaColor:thC(c.theme)});
}
turnos.push({id:ti+1,label:t.label,shortLabel:t.shortLabel,badge:t.badge,badgeBg:t.badgeBg,badgeColor:t.badgeColor,courses:courses});
}

var tagsH='';
for(var i=0;i<cfg.tags.length;i++){
tagsH+='<div class="hero-tag'+(cfg.tags[i].hl?' highlight':'')+'">'+cfg.tags[i].text+'</div>\n';
}

// Fix JS runtime for dynamic turno count
var nTurnos=cfg.turnos.length;
var formStep=nTurnos+1;
var confirmStep=nTurnos+2;
var selObj='{';for(var i=1;i<=nTurnos;i++){selObj+=i+':null';if(i<nTurnos)selObj+=','}selObj+='}';
var stepsArr='[';for(var i=1;i<=nTurnos;i++){stepsArr+='{id:'+i+",label:'T"+i+"'},"}stepsArr+='{id:'+formStep+",label:'\ud83d\udc64'},{id:"+confirmStep+",label:'\u2713'}]";
var progLabels='[';for(var i=0;i<cfg.turnos.length;i++){progLabels+='"'+cfg.turnos[i].shortLabel.replace(/"/g,'\\"')+'",'}progLabels+='"Dados","Confirmar"]';

siteJS=siteJS.replace(/const selections = \{[^}]+\}/,'const selections = '+selObj);
siteJS=siteJS.replace(/const STEPS = \[[^\]]+\]/,'const STEPS = '+stepsArr);
siteJS=siteJS.replace(/const labels = \[[^\]]+\]/,'const labels = '+progLabels);
siteJS=siteJS.replace(/turno\.id === 5/g,'turno.id === '+nTurnos);
siteJS=siteJS.replace(/step === 6/g,'step === '+formStep);
siteJS=siteJS.replace(/goToStep\(6\)/g,'goToStep('+formStep+')');
siteJS=siteJS.replace(/goToStep\(7\)/g,'goToStep('+confirmStep+')');
siteJS=siteJS.replace(/id="step-6"/g,'id="step-'+formStep+'"');
siteJS=siteJS.replace(/id="step-7"/g,'id="step-'+confirmStep+'"');
siteJS=siteJS.replace(/step === 7/g,'step === '+confirmStep);
siteJS=siteJS.replace(/onclick="goToStep\(5\)"/g,'onclick="goToStep('+nTurnos+')"');

// Google Forms integration code to inject
var gf=cfg.gforms||{};
var gformsCode='';
if(gf.formId){
gformsCode='var FORMS_CONFIG={formId:"'+gf.formId+'",fields:{nome:"'+(gf.nome||'')+'",email:"'+(gf.email||'')+'",cpf:"'+(gf.cpf||'')+'",telefone:"'+(gf.telefone||'')+'",municipio:"'+(gf.municipio||'')+'",orgao:"'+(gf.orgao||'')+'",cargo:"'+(gf.cargo||'')+'",turno1:"'+(gf.turno1||'')+'",turno2:"'+(gf.turno2||'')+'",turno3:"'+(gf.turno3||'')+'",turno4:"'+(gf.turno4||'')+'",turno5:"'+(gf.turno5||'')+'",total:"'+(gf.total||'')+'"}};\n';
gformsCode+='function enviarGForms(d){var F=FORMS_CONFIG.fields;var url="https://docs.google.com/forms/d/e/"+FORMS_CONFIG.formId+"/formResponse";var fd=new URLSearchParams();if(F.nome)fd.append(F.nome,d.nome);if(F.email)fd.append(F.email,d.email);if(F.cpf)fd.append(F.cpf,d.cpf);if(F.telefone)fd.append(F.telefone,d.telefone);if(F.municipio)fd.append(F.municipio,d.municipio);if(F.orgao)fd.append(F.orgao,d.orgao);if(F.cargo)fd.append(F.cargo,d.cargo);if(F.turno1)fd.append(F.turno1,d.turno1||"\\u2014");if(F.turno2)fd.append(F.turno2,d.turno2||"\\u2014");if(F.turno3)fd.append(F.turno3,d.turno3||"\\u2014");if(F.turno4)fd.append(F.turno4,d.turno4||"\\u2014");if(F.turno5)fd.append(F.turno5,d.turno5||"\\u2014");if(F.total)fd.append(F.total,String(d.total));fetch(url,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:fd.toString()}).catch(function(e){console.error("GForms error:",e)})}\n';
}else{
gformsCode='function enviarGForms(){}\n';
}

// Override finalizar to send to Google Forms
var finalizarOverride='var _origFinalizar=finalizar;finalizar=function(){if(!document.getElementById("f-termos").checked){showToast("Aceite os termos para confirmar.","warn");return}var d={nome:gv("f-nome"),email:gv("f-email"),cpf:gv("f-cpf"),telefone:gv("f-tel"),municipio:gv("f-mun"),orgao:gv("f-orgao"),cargo:gv("f-cargo"),turno1:"",turno2:"",turno3:"",turno4:"",turno5:"",total:0};TURNOS.forEach(function(t){if(selections[t.id]){d["turno"+t.id]=selections[t.id].curso+" ("+selections[t.id].instrutor+")";d.total++}});enviarGForms(d);_origFinalizar()};';

return '<!DOCTYPE html>\n<html lang="pt-BR">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<title>Escola de Contas | TCM-PA</title>\n<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;0,9..40,800;1,9..40,400&family=Playfair+Display:wght@700;800&display=swap" rel="stylesheet">\n<style>'+siteCSS+'<'+'/style>\n<'+'/head>\n<body>\n<div class="toast" id="toast"><'+'/div>\n<header class="site-header"><div class="header-inner"><div class="logo-group"><div class="logo-mark"><div class="back"><'+'/div><div class="front"><'+'/div><'+'/div><div class="logo-text">ESCOLA DE CONTAS <span>| TCM-PA<'+'/span><'+'/div><'+'/div><div class="header-badge">'+cfg.headerBadge+'<'+'/div><'+'/div><'+'/header>\n<section class="hero"><div class="hero-inner"><div class="hero-badge"><div class="dot"><'+'/div><span>'+cfg.badgeStatus+'<'+'/span><'+'/div><h1>'+cfg.titulo+' <em>'+cfg.ano+'<'+'/em><'+'/h1><p>'+cfg.subtitulo+'<'+'/p><div class="hero-tags">'+tagsH+'<'+'/div><'+'/div><'+'/section>\n<nav class="progress-bar" id="progressBar"><div class="progress-inner" id="progressInner"><'+'/div><'+'/nav>\n<div class="float-counter" id="floatCounter"><div class="float-counter-label">Selecionados<'+'/div><div class="float-counter-num"><span id="counterNum">0<'+'/span><small> / '+nTurnos+'<'+'/small><'+'/div><div class="float-counter-status warn" id="counterStatus">M\u00edn: '+cfg.minCursos+' curso'+(cfg.minCursos>1?'s':'')+'<'+'/div><'+'/div>\n<main class="main-content"><div id="panelsContainer"><'+'/div><'+'/main>\n<script>\n'+gformsCode+'\nvar TURNOS = '+JSON.stringify(turnos)+';\nvar MUNICIPIOS_PA = '+JSON.stringify(MUN)+';\n'+siteJS+'\n'+finalizarOverride+'\n<'+'/script>\n<'+'/body>\n<'+'/html>';
}

function doExportSite(){
syncUI();
var html=genSite(C);
// Try blob download first
try{
var b=new Blob([html],{type:'text/html;charset=utf-8'});
var u=URL.createObjectURL(b);
var a=document.createElement('a');
a.href=u;a.download='escola-de-contas.html';
document.body.appendChild(a);a.click();document.body.removeChild(a);
setTimeout(function(){URL.revokeObjectURL(u)},1000);
toast('Site gerado e baixado!');
}catch(e){
// Fallback: show in modal for copy
showHTMLModal(html);
}
}

function doPreview(){
syncUI();
var html=genSite(C);
// Create an iframe preview instead of window.open
var overlay=document.createElement('div');
overlay.style.cssText='position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:300;display:flex;flex-direction:column;padding:8px';
overlay.innerHTML='<div style="display:flex;justify-content:space-between;align-items:center;padding:8px 12px;background:#1e293b;border-radius:10px 10px 0 0"><span style="color:#fff;font-weight:700;font-size:13px">Preview do Site</span><div style="display:flex;gap:6px"><button onclick="this.closest(\'div\').parentElement.parentElement.remove()" style="padding:6px 14px;border-radius:8px;border:none;background:#ef4444;color:#fff;font-weight:600;font-size:12px;cursor:pointer">Fechar</button></div></div><iframe style="flex:1;border:none;border-radius:0 0 10px 10px;background:#fff" id="pvw-iframe"></iframe>';
document.body.appendChild(overlay);
var iframe=document.getElementById('pvw-iframe');
iframe.srcdoc=html;
}

function showHTMLModal(html){
var overlay=document.createElement('div');
overlay.style.cssText='position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:300;display:flex;align-items:center;justify-content:center;padding:16px';
overlay.innerHTML='<div style="background:#fff;border-radius:14px;width:100%;max-width:700px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden"><div style="padding:14px 18px;border-bottom:1px solid #e2e5ea;display:flex;justify-content:space-between;align-items:center"><h3 style="font-size:15px;font-weight:700">HTML Gerado</h3><button onclick="this.closest(\'div\').parentElement.parentElement.remove()" style="width:30px;height:30px;border-radius:8px;border:none;background:#f0f2f5;cursor:pointer;font-size:16px">\\u2715</button></div><div style="padding:14px 18px;flex:1;overflow:auto"><p style="font-size:12px;color:#5f6672;margin-bottom:8px">Copie o c\\u00f3digo abaixo e salve como <b>escola-de-contas.html</b></p><textarea style="width:100%;height:300px;font-family:monospace;font-size:11px;padding:10px;border:1.5px solid #e2e5ea;border-radius:8px;resize:vertical" id="html-output" readonly></textarea></div><div style="padding:14px 18px;border-top:1px solid #e2e5ea;display:flex;justify-content:flex-end;gap:6px"><button onclick="document.getElementById(\'html-output\').select();document.execCommand(\'copy\');this.textContent=\'Copiado!\'" style="padding:8px 16px;border-radius:8px;border:none;background:#3b82f6;color:#fff;font-weight:600;font-size:12px;cursor:pointer">Copiar HTML</button></div></div>';
document.body.appendChild(overlay);
document.getElementById('html-output').value=html;
}

/* === RESET === */
function resetCfg(){if(confirm('Restaurar configura\u00e7\u00e3o padr\u00e3o?')){localStorage.removeItem('ec-admin-cfg');C=defCfg();renderAll();toast('Configura\u00e7\u00e3o restaurada!')}}

/* === GOOGLE FORMS CONFIG === */
function renderGForms(){
var gf = C.gforms || {formId:'',nome:'',email:'',cpf:'',telefone:'',municipio:'',orgao:'',cargo:'',turno1:'',turno2:'',turno3:'',turno4:'',turno5:'',total:''};
document.getElementById('p-gforms').innerHTML='<div class="al al-i">Integre com Google Forms para receber inscri\u00e7\u00f5es direto na planilha. Siga o passo a passo abaixo.</div>'+
'<div class="sec"><div class="sec-h"><h3>1\ufe0f\u20e3 Criar o Forms</h3></div><div class="sec-b"><p style="font-size:12px;color:var(--tx2);line-height:1.6">Crie um Google Forms com <b>13 perguntas</b> (todas "Resposta curta"):<br>1. Nome Completo | 2. E-mail | 3. CPF | 4. Telefone | 5. Munic\u00edpio | 6. \u00d3rg\u00e3o | 7. Cargo<br>8. Turno 1 | 9. Turno 2 | 10. Turno 3 | 11. Turno 4 | 12. Turno 5 | 13. Total de Cursos</p></div></div>'+
'<div class="sec"><div class="sec-h"><h3>2\ufe0f\u20e3 Extrair Entry IDs</h3></div><div class="sec-b"><p style="font-size:12px;color:var(--tx2);line-height:1.6;margin-bottom:10px">No Forms: <b>\u22ee \u2192 Gerar link pr\u00e9-preenchido</b>. Preencha cada campo, copie o link e extraia os <code>entry.XXXXX</code> de cada campo.</p><div class="fd"><label class="fl">Ou cole o link pr\u00e9-preenchido completo aqui</label><textarea class="fi" id="gf-prefill" rows="3" placeholder="https://docs.google.com/forms/d/e/.../viewform?usp=pp_url&entry.123=CAMPO_NOME&entry.456=CAMPO_EMAIL..."></textarea><button class="bt bt-p" onclick="parsePrefilledLink()" style="margin-top:6px">Extrair IDs automaticamente</button></div></div></div>'+
'<div class="sec"><div class="sec-h"><h3>3\ufe0f\u20e3 Configura\u00e7\u00e3o</h3></div><div class="sec-b">'+
'<div class="fd"><label class="fl">Form ID</label><input class="fi" id="gf-formid" value="'+H(gf.formId)+'" placeholder="Ex: 1FAIpQLSe..."><div class="fh">Est\u00e1 na URL: docs.google.com/forms/d/e/<b>ESTE_ID</b>/viewform</div></div>'+
'<div class="fr"><div class="fd"><label class="fl">entry: Nome</label><input class="fi" id="gf-nome" value="'+H(gf.nome)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: E-mail</label><input class="fi" id="gf-email" value="'+H(gf.email)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'<div class="fr"><div class="fd"><label class="fl">entry: CPF</label><input class="fi" id="gf-cpf" value="'+H(gf.cpf)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: Telefone</label><input class="fi" id="gf-telefone" value="'+H(gf.telefone)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'<div class="fr"><div class="fd"><label class="fl">entry: Munic\u00edpio</label><input class="fi" id="gf-municipio" value="'+H(gf.municipio)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: \u00d3rg\u00e3o</label><input class="fi" id="gf-orgao" value="'+H(gf.orgao)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'<div class="fd"><label class="fl">entry: Cargo</label><input class="fi" id="gf-cargo" value="'+H(gf.cargo)+'" placeholder="entry.XXXXXXXXXX"></div>'+
'<hr style="border:none;border-top:1px solid var(--bd);margin:12px 0"><p style="font-size:11px;color:var(--tx3);margin-bottom:8px">Turnos (preenchidos automaticamente com o curso escolhido)</p>'+
'<div class="fr"><div class="fd"><label class="fl">entry: Turno 1</label><input class="fi" id="gf-t1" value="'+H(gf.turno1)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: Turno 2</label><input class="fi" id="gf-t2" value="'+H(gf.turno2)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'<div class="fr"><div class="fd"><label class="fl">entry: Turno 3</label><input class="fi" id="gf-t3" value="'+H(gf.turno3)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: Turno 4</label><input class="fi" id="gf-t4" value="'+H(gf.turno4)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'<div class="fr"><div class="fd"><label class="fl">entry: Turno 5</label><input class="fi" id="gf-t5" value="'+H(gf.turno5)+'" placeholder="entry.XXXXXXXXXX"></div><div class="fd"><label class="fl">entry: Total</label><input class="fi" id="gf-total" value="'+H(gf.total)+'" placeholder="entry.XXXXXXXXXX"></div></div>'+
'</div></div>'+
'<div class="sec"><div class="sec-h"><h3>4\ufe0f\u20e3 Testar</h3></div><div class="sec-b"><button class="bt bt-ok" onclick="testGForms()">Enviar inscri\u00e7\u00e3o de teste</button><p style="font-size:11px;color:var(--tx3);margin-top:6px">Envia dados fict\u00edcios pro Forms para verificar se funciona.</p></div></div>';
}

function syncGForms(){
var g=function(k){var el=document.getElementById(k);return el?el.value:''};
if(!C.gforms)C.gforms={};
C.gforms.formId=g('gf-formid');C.gforms.nome=g('gf-nome');C.gforms.email=g('gf-email');
C.gforms.cpf=g('gf-cpf');C.gforms.telefone=g('gf-telefone');C.gforms.municipio=g('gf-municipio');
C.gforms.orgao=g('gf-orgao');C.gforms.cargo=g('gf-cargo');
C.gforms.turno1=g('gf-t1');C.gforms.turno2=g('gf-t2');C.gforms.turno3=g('gf-t3');
C.gforms.turno4=g('gf-t4');C.gforms.turno5=g('gf-t5');C.gforms.total=g('gf-total');
}

function parsePrefilledLink(){
var link=document.getElementById('gf-prefill').value.trim();
if(!link){toast('Cole o link pr\u00e9-preenchido primeiro!');return}

// Extract formId
var formIdMatch=link.match(/\/e\/([^/]+)\//);
if(formIdMatch)document.getElementById('gf-formid').value=formIdMatch[1];

// Extract entry IDs by matching entry.XXXXX=CAMPO_YYY
var entries=link.match(/entry\.\d+=[^&]+/g)||[];
var fieldMap={'CAMPO_NOME':'gf-nome','CAMPO_EMAIL':'gf-email','CAMPO_CPF':'gf-cpf','CAMPO_TEL':'gf-telefone','CAMPO_MUN':'gf-municipio','CAMPO_ORGAO':'gf-orgao','CAMPO_CARGO':'gf-cargo','CAMPO_T1':'gf-t1','CAMPO_T2':'gf-t2','CAMPO_T3':'gf-t3','CAMPO_T4':'gf-t4','CAMPO_T5':'gf-t5','CAMPO_TOTAL':'gf-total'};

var found=0;
for(var i=0;i<entries.length;i++){
var parts=entries[i].split('=');
var entryId=parts[0];
var value=decodeURIComponent(parts[1]||'');
var targetField=fieldMap[value];
if(targetField){
document.getElementById(targetField).value=entryId;
found++;
}
}
syncGForms();saveCfg();
toast(found+' campos mapeados automaticamente!'+(found<13?' Preencha os restantes manualmente.':''));
}

function testGForms(){
syncGForms();saveCfg();
var gf=C.gforms||{};
if(!gf.formId){toast('Configure o Form ID primeiro!');return}
var url='https://docs.google.com/forms/d/e/'+gf.formId+'/formResponse';
var fd=new URLSearchParams();
if(gf.nome)fd.append(gf.nome,'[TESTE] Maria da Silva');
if(gf.email)fd.append(gf.email,'teste@escola.gov.br');
if(gf.cpf)fd.append(gf.cpf,'000.000.000-00');
if(gf.telefone)fd.append(gf.telefone,'(91) 99999-0000');
if(gf.municipio)fd.append(gf.municipio,'Bel\u00e9m');
if(gf.orgao)fd.append(gf.orgao,'Prefeitura Municipal');
if(gf.cargo)fd.append(gf.cargo,'Controladora Interna');
if(gf.turno1)fd.append(gf.turno1,'Controle Interno B\u00e1sico');
if(gf.turno2)fd.append(gf.turno2,'\u2014');
if(gf.turno3)fd.append(gf.turno3,'Licita\u00e7\u00f5es na Pr\u00e1tica');
if(gf.turno4)fd.append(gf.turno4,'\u2014');
if(gf.turno5)fd.append(gf.turno5,'\u2014');
if(gf.total)fd.append(gf.total,'2');
fetch(url,{method:'POST',mode:'no-cors',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:fd.toString()}).then(function(){toast('Teste enviado! Verifique a planilha do Google Forms.')}).catch(function(e){toast('Erro: '+e.message)});
}

/* === INIT === */
// Limpar cache de versÃµes anteriores que podem causar erro
try { 
    var oldCfg = localStorage.getItem('ec-cfg');
    if (oldCfg) { localStorage.removeItem('ec-cfg'); console.log('Limpou cache antigo ec-cfg'); }
} catch(e){}
renderAll();
</script>
</body>
</html>